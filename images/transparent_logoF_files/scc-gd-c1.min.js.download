!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("scc-gd-c1",[],e):"object"==typeof exports?exports["scc-gd-c1"]=e():t["scc-gd-c1"]=e()}(self,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{_isDebug:()=>I,debug:()=>B,error:()=>A,info:()=>D,log:()=>D,setDebug:()=>L,warn:()=>q});var n={};function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t,e,n){return(e=function(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}t.r(n),t.d(n,{cmdGetTrackingValues:()=>qu,cmdLog:()=>Au,cmdLogImpression:()=>Fu,cmdLogPageEvent:()=>Du,cmdLogPagePerf:()=>Bu,cmdLogPageRequest:()=>Ru});var a,c,u,s,f,l=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];try{if(e(n,r))return t}catch(t){}}return t},p=function(){for(var t={},e=0;e<arguments.length;e++){var n=e<0||arguments.length<=e?void 0:arguments[e];"object"===i(n)&&l(n,(function(e,n){t[e]=n}))}return t},d=function(t){for(var e in t)void 0===t[e]?delete t[e]:"object"===i(t[e])&&(d(t[e]),0===Object.keys(t[e]).length&&delete t[e]);return t},y=function(t){if(2===t.length)return t[1]},v=function(t,e,n){if("string"!=typeof t)return{};for(var r={},o=t.split(e),i=0;i<o.length;i++){var a=o[i].split(n);r[a[0]]=y(a)}return r},b=function(t,e,n){var r=[];return l(t,(function(t,e){r.push("".concat(t).concat(n).concat(e))})),0===r.length?"":r.join(e)},m=function(t,e){return e&&(t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),Object.keys(t).forEach((function(n){if("object"===i(t[n])){var r=m(t[n],e);e&&(t[n]=r)}})),Object.freeze(t)},h=(a="",u={document:c=Object.create({get cookie(){return a},set cookie(t){a=t}})},s={},"undefined"==typeof window?{window:u,document:c,navigator:s}:{window:window||u,document:window.document||c,navigator:navigator||s}),g=function(){return h.window},_=function(){return h.document},w=function(){return h.navigator},O=function(){var t=g().location;return t&&t.hostname?t.hostname:""},j=function(){var t=O(),e=t.split("."),n=e.length;return n>2&&(t="".concat(e[n-2],".").concat(e[n-1]),2!==e[n-2].length&&3!==e[n-2].length||2!==e[n-1].length||(t="".concat(e[n-3],".").concat(t))),t},S=function(t,e,n){var r=n||1;if(e&&!(r>10)){var o=t(e);return!o&&e.parentNode?S(t,e.parentNode,r+1):o}},P=function(){return g().event},E=function(){var t=P();if(void 0!==t&&null!=t){var e=t.target||t.srcElement;if(void 0!==e&&null!=e)return e.nodeType&&3===e.nodeType&&(e=e.parentNode),e}},k=function(t,e){if(t&&t.attributes&&t.attributes[e]&&t.attributes[e].value)return t.attributes[e].value},x=function(t){var e=t.nodeName;return"A"===e||"AREA"===e},T=function(t,e){var n=t||E(),r={};return n&&S((function(t){l(e,(function(e,n){var o=k(t,n);o&&!r[e]&&(r[e]=o)})),x(t)&&(r.href=k(t,"href"))}),n),r},C=function(t,e){var n=_(),r=w(),o=e||P(),i=t||E(),a={};if(i){a.type=i.type,a.eventid=i.id,a.eventclass=i.className,a.eventname=i.name,S((function(t){var e,n=k(t,"data-tcode"),r=k(t,"data-tdata"),o=k(t,"data-ci"),i=k(t,"data-tms"),c=k(t,"data-eid");if(c||(c=k(t,"data-e_id")),c||(c=k(t,"e_id")),x(t)&&(e=k(t,"href")),n||r||o||i||c||e)return n&&(a.tcode=n),r&&(a.usrin=r),o&&(a.ci=o),i&&(a.tms=i),c&&(a.e_id=c),e&&(a.href=e),a}),i);var c=function(t,e,n){if(n&&n.clientX&&n.clientY&&n.pageX&&n.pageY){var r={};if(t&&e&&-1!==e.userAgent.indexOf("MSIE")){var o="CSS1Compat"===t.compatMode?t.documentElement:t.body;r.pagex=Math.round(n.clientX+(o.scrollLeft?o.scrollLeft:0)),r.pagey=Math.round(n.clientY+(o.scrollTop?o.scrollTop:0))}else r.pagex=Math.round(n.pageX),r.pagey=Math.round(n.pageY);return r.clientx=Math.round(n.clientX),r.clienty=Math.round(n.clientY),r}}(n,r,o);if(c)a.absolutex=c.pagex,a.absolutey=c.pagey,a.relativex=c.clientx,a.relativey=c.clienty;else{var u=function(t){var e=0;if(t.offsetParent)for(;t.offsetParent;)e+=t.offsetLeft,t=t.offsetParent;else t.x&&(e+=t.x);return e}(i),s=function(t){var e=0;if(t.offsetParent)for(;t.offsetParent;)e+=t.offsetTop,t=t.offsetParent;else t.y&&(e+=t.y);return e}(i);a.absolutex=u,a.absolutey=s,a.relativex=u,a.relativey=s}}return d(a),a},I=!1,L=function(t){I=!0===t||"true"===t},R=function(t){return g().console,function(){}},D=R(),A=R(),q=R(),B=function(){if(I){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];D.apply(null,e)}},F=function(t){if(g()[f])return g()[f][t]},M=function(t,e){g()[f]&&(g()[f][t]=e)},N=function(t,e){g()[t]=e,M(t,e)},U=function(t,e){if(void 0===t)return t;void 0===e&&(e=2);for(var n=String(t);n.length<e;)n="0"+n;return n},V=function(t,e,n){return t.substr(!n||n<0?0:+n,e.length)===e},G=function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]||void 0!==t)return!0===t||1===t||"string"==typeof t&&("true"===t.toLowerCase()||"1"===t)},K=function(t){var e=parseInt(t,10);if(!isNaN(e))return e},H=function(t){var e=parseFloat(t);if(!isNaN(e))return e},z=function(t){return/^-?\d+$/.test(t)},W=function(){return function(t){var e=t.getUTCFullYear()+"-"+U(t.getUTCMonth()+1);if(e+="-"+U(t.getUTCDate())+"T"+U(t.getUTCHours())+":",e+=U(t.getUTCMinutes())+":"+U(t.getUTCSeconds()),t.getUTCMilliseconds){var n=t.getUTCMilliseconds();z(n)&&(e+="."+String((n/1e3).toFixed(3)).slice(2,5))}return e+"Z"}(new Date)},$=function(t){return"[object Array]"===Object.prototype.toString.call(t)},Q=function(t,e){$(t)&&t.push({timestamp:W(),data:e})};function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t,e,n){return(e=tt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tt(r.key),r)}}function tt(t){var e=function(t){if("object"!=X(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==X(e)?e:e+""}const et=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.properties=e?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){Y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e):{}}return e=t,(n=[{key:"clear",value:function(){this.properties={}}},{key:"get",value:function(t){if(this.properties.hasOwnProperty(t))return this.properties[t]}},{key:"set",value:function(t,e){this.properties[t]=e}},{key:"isSet",value:function(t){if(this.properties.hasOwnProperty(t))return!0}},{key:"delete",value:function(t){delete this.properties[t]}},{key:"getProperties",value:function(t){var e={},n=function(){return!1};return t||"function"!=typeof t||(n=t),l(this.properties,(function(t,r){n(t)||(e[t]=r)})),e}},{key:"merge",value:function(e){var n=this,r=e;r instanceof t&&(r=e.getProperties()),l(r,(function(t,e){n.set(t,e)}))}}])&&Z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();var nt,rt={},ot={"first-paint":"fp","first-contentful-paint":"fcp"},it=["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","navigationStart","requestStart","responseEnd","responseStart","loadEventStart","loadEventEnd"],at=["transferSize","encodedBodySize","decodedBodySize"],ct=function(t,e){for(var n={},r=0;r<e.length;r++){var o=e[r],i=t[o];void 0!==i&&(n[o]=Math.round(i))}return n},ut=function(t){return ct(t,it)},st=function(t){return ct(t,at)},ft=function(t,e){var n=new et;"tcc"===t&&n.set("tccin",e||"na");try{(nt=g().performance)&&nt.timing?(function(t){if(t.merge(ut(nt.timing)),nt.getEntriesByName){var e=nt.getEntriesByName(_().location.href)[0];if(!e&&nt.getEntriesByType){var n=nt.getEntriesByType("navigation");e=n[n.length-1]}e&&(t.merge(st(e)),t.set("navigationType",e.type))}}(n),"tcc"===t&&(function(t){if(nt.getEntriesByType){var e=nt.getEntriesByType("mark");if($(e)){t.set("marks",e.slice(0,10).map((function(t){return{name:t.name,startTime:Math.round(t.startTime)}})));var n=nt.getEntriesByType("measure");$(n)&&t.set("measures",n.slice(0,10).map((function(t){return{name:t.name,duration:Math.round(t.duration)}})))}}}(n),function(t){if(nt.getEntriesByType){var e=nt.getEntriesByType("paint");e&&e.forEach((function(e){t.set(ot[e.name],Math.round(e.startTime))}))}}(n))):("tcc"===t&&n.set("tccperfapi","not supported"),A("Error loading performance lib"))}catch(t){A("_collect unable to get performance data",t)}return n.getProperties()},lt=function(t,e,n){setTimeout((function(){g()._expDataLayer=g()._expDataLayer||[],g()._expDataLayer.push({schema:"add_perf",version:"v1",data:"tcc"===t?{type:"pageperf",properties:p(e,rt,{nav_type:"hard"}),custom_properties:n}:{timing_object:p(e,rt),is_hard_navigation:!0,custom_properties:n}})}),0)},pt=function(){return!(nt=g().performance)||!nt.timing||nt.timing.loadEventStart>0},dt=!1,yt=function(t,e,n){if("manual"===e||!dt)if(dt=!0,pt())lt(t,ft(t,e),n);else var r=setInterval((function(){pt()&&(clearInterval(r),lt(t,ft(t,e),n))}),250)};function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mt(r.key),r)}}function mt(t){var e=function(t){if("object"!=vt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==vt(e)?e:e+""}var ht,gt=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._loaded=!1,this._onLoadFns=[],e?this._loaded=!0:n(this._triggerOnLoad.bind(this))},e=[{key:"_executeFn",value:function(t){try{t()}catch(e){A("Exception while executing onLoad callback",t,e)}}},{key:"_triggerOnLoad",value:function(){this._loaded=!0;for(var t=0;t<this._onLoadFns.length;t++)this._executeFn(this._onLoadFns[t])}},{key:"registerOnLoadFn",value:function(t){(function(t){return t&&"[object Function]"==={}.toString.call(t)})(t)&&(this._loaded?this._executeFn(t):this._onLoadFns.push(t))}}],e&&bt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),_t=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=_().createElement("script");r.type="text/javascript",r.async=e,r.src=t,n&&r.addEventListener("load",n),(_().getElementsByTagName("head")[0]||_().getElementsByTagName("body")[0]).appendChild(r)},wt=g().Request,Ot=wt&&"keepalive"in new wt(""),jt=void 0!==w().sendBeacon,St=function(t,e,n,r){var o=g().XMLHttpRequest;if(o){var i=new o;i.open(e,t,!0),l(r,(function(t,e){i.setRequestHeader(t,e)})),i.send(n)}},Pt=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.queryParams,i=r.payload,a=r.requestHeaders,c=r.credentials,u=r.sendAsBeacon,s=void 0!==u&&u,f=p({},a),l=i?JSON.stringify(i):null;if(s&&jt&&!f.Authorization&&"POST"===e)try{var d=g().Blob;w().sendBeacon(t,new d([l],f))}catch(n){St(t,e,l,f)}else!function(t,e,n,r,o){var i=g().fetch;Ot&&i?i(t,{keepalive:!0,method:e,headers:r,body:n,credentials:o}).catch((function(o){St(t,e,n,r)})):St(t,e,n,r)}(t,e,l,f,c);!function(t,e,n,r,o){var i={endpoint:e,queryParams:n,method:r,payload:o};Q(F(t),i)}(n,t,o,e,i)},Et=function(t,e){var n=F("config")[t];if(n&&e)return n[e]},kt=[{name:"EMAIL",regex:/[^@^=]+@[^@]+\.[^@^&]+/}],xt=function(t,e){if("string"!=typeof t)return t;for(var n=t,r=0;r<kt.length;r++)for(var o=kt[r].regex,i=n.match(o);i&&i[0];)i=(n=n.replace(i[0],"REDACTED")).match(o);return n},Tt=function(t){return(t=t||g().location.search)?(V(t,"?")&&(t=t.substring(1)),t.split("&")):[]},Ct=function(t,e,n){for(var r=Tt(n),o=r.length-1;o>=0;o--){var i=r[o].split("=");if(e){if((i[0]+"").toLowerCase()===(t+"").toLowerCase())return i[1]}else if(i[0]===t)return i[1]}},It=function(t){var e;V(t,"?")&&(e=t.substring(1));var n=v(e,"&","=");return n.utm_content&&(t+="&ga_content="+n.utm_content),t},Lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://".concat(t?t+".":"").concat(function(){if(ht)return ht;var t=j();if("secureserver.net"===(t=function(t){var e=t||j();return e.indexOf("godaddy.com")>=0||e.indexOf("secureserver.net")>=0}(t)?t:"secureserver.net")){var e=Et("build","env");t="prod"===e?t:"".concat(e,"-").concat(t)}return ht=t}())};function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||At(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(t,e){if(t){if("string"==typeof t)return qt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(t,e):void 0}}function qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ft(r.key),r)}}function Ft(t){var e=function(t){if("object"!=Rt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Rt(e)?e:e+""}const Mt=function(){return t=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._eventQueue=[],this._sendBatchCallback=e,this._maxEvents=r,this._isFlushing=!1,this._bindHandlers(),this._processInterval=setInterval((function(){n._sendBatch()}),250)},(e=[{key:"_bindHandlers",value:function(){var t=this,e=this._hidePage.bind(this),n=this._showPage.bind(this),r=g().attachEvent,o=g().addEventListener;o?(o("beforeunload",e,!1),o("pagehide",e,!1),o("pageshow",n,!1)):r&&(r("beforeunload",e),r("pagehide",e),r("pageshow",n));var i=_(),a=i.addEventListener;a&&a("visibilitychange",function(){"hidden"===i.visibilityState&&t._hidePage(),"visible"===i.visibilityState&&t._showPage()}.bind(this))}},{key:"_hidePage",value:function(){for(this._isFlushing=!0;this._eventQueue.length>0;)this._sendBatch()}},{key:"_showPage",value:function(){this._isFlushing=!1}},{key:"_sendRequests",value:function(t){var e=this;Object.entries(t).forEach((function(t){var n=Dt(t,2),r=n[0],o=n[1];try{var i=Dt(r.split("|"),2),a=i[0],c={schemaId:i[1],data:[]};Object.values(o).forEach((function(t){if(t.events.length>10)for(var e=t.events.length/10,n=0;n<e;n++)c.data.push(p(t,{events:t.events.slice(10*n,10*n+10)}));else c.data.push(t)})),e._sendBatchCallback(c,{apiKey:a,isFlushing:e._isFlushing})}catch(t){A("Failed to send request: ".concat(t))}}))}},{key:"pushEvent",value:function(t,e){e||!Ot&&!jt||this._isFlushing?this._sendBatch(t):this._eventQueue.push(t)}},{key:"_getRequestBatch",value:function(t,e,n){var r=n.apiKey,o=n.schemaId,i=n.global,a=n.contextVersion,c=n.businessContext,u="".concat(r,"|").concat(o),s=t[u]||{};t[u]=s;var f=0;c&&(e.push(c),f=e.length);var l="".concat(a,"|").concat(f);return{batch:s[l]||{global:i,businessContext:c,events:[]},batchKey:l,request:s}}},{key:"_processEvent",value:function(t,e,n){var r,o=this._getRequestBatch(t,e,n),i=o.batch,a=o.batchKey,c=o.request;return(r=i.events).push.apply(r,function(t){return function(t){if(Array.isArray(t))return qt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||At(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.events.slice(0,this._maxEvents))),n.events.length>this._maxEvents&&this.pushEvent(p(n,{events:n.events.slice(this._maxEvents)})),c[a]=i,Math.min(n.events.length,this._maxEvents)}},{key:"_sendBatch",value:function(t){var e=0,n={},r=[];for(t&&(e+=this._processEvent(n,r,t));this._eventQueue.length>0&&e<this._maxEvents;)e+=this._processEvent(n,r,this._eventQueue.shift());this._sendRequests(n)}}])&&Bt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();var Nt,Ut="_eventBusSendLog",Vt=function(t,e){var n=e.apiKey,r=e.isFlushing;Pt("".concat(Lt("csp"),"/eventbus/web?clientid=").concat(n),"POST",Ut,{payload:t,sendAsBeacon:r})};function Gt(t){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(t)}function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ht(r.key),r)}}function Ht(t){var e=function(t){if("object"!=Gt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gt(e)?e:e+""}function zt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zt=function(){return!!t})()}function Wt(t,e,n,r){var o=$t(Qt(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function $t(){return $t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Qt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},$t.apply(null,arguments)}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}function Xt(t,e){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xt(t,e)}var Jt=function(t){try{return JSON.parse(t)}catch(t){return{}}};const Yt=new(function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e,n){return e=Qt(e),function(t,e){if(e&&("object"==Gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zt()?Reflect.construct(e,n||[],Qt(t).constructor):e.apply(t,n))}(this,e,[t]))._updateWindow(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xt(t,e)}(e,t),n=e,(r=[{key:"_updateWindow",value:function(){M("config",m(this.properties,!0))}},{key:"set",value:function(t,n){Wt(e,"set",this,3)([t,n]),this._updateWindow()}},{key:"merge",value:function(t){Wt(e,"merge",this,3)([t]),this._updateWindow()}}])&&Kt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(et))({build:{env:"prod",date:"2025-02-28T19:39:32.861Z"},client:{name:"scc-gd-c1",version:"1.1.3",hash:"56251c15a85d71030dab498f54b1d19858d0e053"},cookie:{sameSite:"none"},site:{privateLabelId:""},sGtm:{enabled:G("true"),whitelist:Jt('{"privateLabelId":1}'),account:"G-QJXPZE4TX8",host:""},ga:{account:"UA-115508484-1"},wGtm:{account:"GTM-5WB8X7D",enableProxy:G("true"),enabled:G("true"),requireGoogleClientId:G("true"),whitelist:Jt('{"privateLabelId":1}')},eventBus:{enabled:G("true"),sccApiKey:"b18ef4f046435b64a469b32c3c1c20a3",rigorApiKey:"8da2217409854bee82e12dc4ca0b39fb"},clickListener:{enabled:!0,navDelayMs:75},timing:{auto:!0},webVitals:{enabled:!0,url:"https://img1.wsimg.com/signals/js/plugins/scc-web-vitals/scc-web-vitals.min.js"},consent:{delayMs:500},cdep:{appId:"app_29092cf241324d7c8f335a8fa870c86f"}});var Zt,te,ee,ne=function(t,e){var n=Yt.get(t);if(n&&e)return n[e]},re=function(t,e,n){var r=Yt.get(t),o=r||{};r||Yt.set(t,o),o[e]=n};function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ie,ae,ce=[],ue={},se=0,fe=function(t){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return oe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(ie);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.startsWith("".concat(r,".")))return!1}}catch(t){n.e(t)}finally{n.f()}return!0},le=function(t,e){"debug"===t&&L(e)},pe=function(){var t,e,n=function(){for(var t={},e=0;e<te.length;e++){var n=te[e];l(n,(function(e,n){-1===ae.indexOf(e.toLowerCase())&&(le(e,n),fe(e)||(t[e]=n))}))}return t}();e={identity:{realm:(t=n)["".concat(Zt,".realm")]},site:{privateLabelId:t["".concat(Zt,".privateLabelId")]},timing:{auto:!G(t["".concat(Zt,".manualPagePerf")],!1)},page:{spa:t["".concat(Zt,".spa")],id:t["".concat(Zt,".pageId")],contentGroup:t["".concat(Zt,".gaContentGroup")]||t["".concat(Zt,".contentGroup")],referrerExclusion:t["".concat(Zt,".referrerExclusion")]},cookie:{sameSite:t["".concat(Zt,".cookies.sameSite")]},wGtm:{enabled:G(t["".concat(Zt,".webGtmEnabled")],!1)},clickListener:{enabled:!G(t["".concat(Zt,".listenerDisabled")],!1),navDelayMs:t["".concat(Zt,".eventDelayMs")]}},Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];void 0!==r&&re(t,n,r)}))})),Yt.merge(n),Q(ce,n)},de=function(){return p(ue)};const ye={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ve;const be=new Uint8Array(16);function me(){if(!ve&&(ve="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ve))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ve(be)}const he=[];for(let t=0;t<256;++t)he.push((t+256).toString(16).slice(1));const ge=function(t,e,n){if(ye.randomUUID&&!e&&!t)return ye.randomUUID();const r=(t=t||{}).random||(t.rng||me)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return he[t[e+0]]+he[t[e+1]]+he[t[e+2]]+he[t[e+3]]+"-"+he[t[e+4]]+he[t[e+5]]+"-"+he[t[e+6]]+he[t[e+7]]+"-"+he[t[e+8]]+he[t[e+9]]+"-"+he[t[e+10]]+he[t[e+11]]+he[t[e+12]]+he[t[e+13]]+he[t[e+14]]+he[t[e+15]]}(r)};var _e=function(){return ge()};function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Se(r.key),r)}}function Se(t){var e=function(t){if("object"!=we(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==we(e)?e:e+""}var Pe=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataLayerNames=e,this.dataLayerLog=[],this.asyncCommands=[],this.loaded=!1,this.dataLayers=[],this.dataLayerNames.forEach((function(t){var e,r=g()[t];$(r)&&(e=n.asyncCommands).push.apply(e,function(t){return function(t){if(Array.isArray(t))return Oe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Oe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r)),N(t,n),n.dataLayers.push(r)}))},(e=[{key:"start",value:function(){this.loadAsyncCommands()}},{key:"pushLog",value:function(t){Q(this.dataLayerLog,t)}},{key:"process",value:function(){}},{key:"push",value:function(t){this.loaded?this.process(t):this.asyncCommands.push(t)}},{key:"loadAsyncCommands",value:function(){for(;this.asyncCommands.length>0;)this.process(this.asyncCommands.shift());this.loaded=!0}}])&&je(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ie(r.key),r)}}function Ce(t,e,n){return e&&Te(t.prototype,e),n&&Te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ie(t){var e=function(t){if("object"!=ke(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ke(e)?e:e+""}var Le=function(){return Ce((function t(e,n){if(xe(this,t),!e)throw"Missing version definitions";this._versionedDefinitions=e,this._interfaceType=n}),[{key:"getInterface",value:function(t,e){var n=this._versionedDefinitions[e];if(n)return n}}])}(),Re=function(){return Ce((function t(e){if(xe(this,t),!e)throw"Missing type definitions";this._typeVersionDefinitionMap=e}),[{key:"getInterface",value:function(t,e,n){var r=this._typeVersionDefinitionMap[n];if(r)return r.getInterface(t,e)}}])}(),De={},Ae=function(t){for(var e=function(){var t,e,o=(t=r[n],e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ee(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];if($(a)){var c={};a.forEach((function(t){var e={};Object.keys(t).forEach((function(n){"type"!==n&&(e[n]=t[n])})),c[t.type]=new Le(e,t.type)})),De[i]=new Re(c)}else De[i]=new Le(a)},n=0,r=Object.entries(t);n<r.length;n++)e()},qe="string",Be=/^([\w-]+)$/,Fe=/^([\w/-]+)$/,Me="OPTIONAL",Ne="REQUIRED",Ue="CALCULATED",Ve="map";function Ge(t,e,n){return e=We(e),function(t,e){if(e&&("object"==tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ke()?Reflect.construct(e,n||[],We(t).constructor):e.apply(t,n))}function Ke(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ke=function(){return!!t})()}function He(t,e,n,r){var o=ze(We(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function ze(){return ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=We(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ze.apply(null,arguments)}function We(t){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},We(t)}function $e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qe(t,e)}function Qe(t,e){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qe(t,e)}function Xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ze(r.key),r)}}function Ye(t,e,n){return e&&Je(t.prototype,e),n&&Je(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ze(t){var e=function(t){if("object"!=tn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==tn(e)?e:e+""}function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}var en=function(t,e,n){var r;if(e._fieldType!==Ue){var o=t[e.name];"sub"===e._resolutionType&&(o=t),r=e.parse(o)}var i=tn(e.transformFn);if("undefined"!==i){var a=$(e.transformFn);if("function"===i||a)for(var c=a?e.transformFn:[e.transformFn],u=0;u<c.length;u++)r=c[u](r,n);else r=e.transformFn}return e._outputType&&e._outputType===qe&&(r=r.toString()),r},nn=function(){return Ye((function t(e){Xe(this,t),this.name=e,this.properties=[],this.definitionType="",this._outputType,this._resolutionType=Ve,this._fieldType=Me,this.outputKey,this.allowedValuesList=[]}),[{key:"parse",value:function(t){if(this.validate(t),this._fieldType!==Me||t||"boolean"==typeof t||0===t){for(var e=new et,n=0;n<this.properties.length;n++){var r=this.properties[n],o=en(t,r,e.getProperties());r._resolutionType===Ve?e.set(r.outputKey||r.name,o):e.merge(o)}return e.getProperties()}}},{key:"validate",value:function(t){if(this._fieldType===Ne&&!t&&"boolean"!=typeof t&&0!==t)throw"Missing required property '".concat(this.name,"'");if(this.allowedValuesList.length>0&&!this.allowedValuesList.includes(t))throw"Input '".concat(t,"' for property '").concat(this.name,"' is not one of the allowed values (").concat(this.allowedValuesList,").")}},{key:"optional",value:function(){return this._fieldType=Me,this}},{key:"required",value:function(){return this._fieldType=Ne,this}},{key:"stringify",value:function(){for(var t=new et,e=0;e<this.properties.length;e++){var n=this.properties[e];t.merge(n.stringify())}return t.getProperties()}},{key:"transform",value:function(t){return this.transformFn=t,this}},{key:"transformKey",value:function(t){return this.outputKey=t,this}},{key:"allowedValues",value:function(t){return this.allowedValuesList=t,this}},{key:"outputType",value:function(t){return this._outputType=t,this}}])}(),rn=function(t){function e(t,n){var r;return Xe(this,e),(r=Ge(this,e,[t])).definitionType="Schema",r.properties=n,r}return $e(e,t),Ye(e,[{key:"parse",value:function(t){var n;if(this.properties&&this.properties.length>0)try{n=He(e,"parse",this,3)([t||{}])}catch(t){throw""}return Object.freeze(n)}}])}(nn),on=function(t){function e(){return Xe(this,e),Ge(this,e,arguments)}return $e(e,t),Ye(e,[{key:"parse",value:function(t){return this.validate(t),t}},{key:"stringify",value:function(){var t={};return t[this.name]=this._fieldType,t}}])}(nn),an=function(t){function e(){return Xe(this,e),Ge(this,e,arguments)}return $e(e,t),Ye(e,[{key:"pattern",value:function(t){return this._pattern=t,this}},{key:"validate",value:function(t){He(e,"validate",this,3)([t]);var n=tn(t);if("string"===n){if(this._pattern&&!t.match(this._pattern))throw"Input ".concat(t," does not match ").concat(this._pattern)}else if("undefined"!==n&&null!=t)throw"Input is not a string"}},{key:"stringify",value:function(){var t=He(e,"stringify",this,3)([]),n=this._pattern?" | pattern: ".concat(this._pattern):"";return t[this.name]="".concat(t[this.name]," | type: string").concat(n),t}}])}(on),cn=function(t){function e(){var t;return Xe(this,e),(t=Ge(this,e)).definitionType="Object",t}return $e(e,t),Ye(e,[{key:"stringify",value:function(){if(this._resolutionType===Ve){var t={};return t["".concat(this.name," (").concat(this._fieldType,")")]=He(e,"stringify",this,3)([]),t}return He(e,"stringify",this,3)([])}},{key:"substitute",value:function(t){return this.properties=this.properties.concat(t),this._resolutionType="sub",this}},{key:"map",value:function(t,e){return this.name=t,this.properties=this.properties.concat(e),this._resolutionType=Ve,this}},{key:"extend",value:function(t){return t&&(this.properties=this.properties.concat(t)),this}}])}(nn),un=function(t){function e(){var t;return Xe(this,e),(t=Ge(this,e)).definitionType="Collection",t.minElements=0,t}return $e(e,t),Ye(e,[{key:"parse",value:function(t){if(this.minElements&&(!t||t.length<this.minElements))throw"";if(void 0!==t){if(!$(t))throw"";return t.map(He(e,"parse",this,1).bind(this))}}},{key:"stringify",value:function(){if(this._resolutionType===Ve){var t={};t["".concat(this.minElements,"...n")]=He(e,"stringify",this,3)([])["".concat(this.name," (").concat(this._fieldType,")")];var n={};return n["".concat(this.name," (").concat(this._fieldType,")")]=t,n}return He(e,"stringify",this,3)([])}},{key:"withMinElements",value:function(t){return this.minElements=t,this._fieldType=t>0?Ne:Me,this}}])}(cn),sn=function(t){function e(t){var n;return Xe(this,e),(n=Ge(this,e,[t]))._fieldType=Ue,n}return $e(e,t),Ye(e)}(nn),fn=function(t,e,n,r,o,i){var a=function(t,e,n){var r=De[t];if(r)return r.getInterface(t,n,e)}(t,e,n),c=new rn(t,a.properties).parse(r)||{},u=new a.handler(c,e,n,o,i);u.preProcess(c),u.process(c)};function ln(t){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(t)}function pn(t){return function(t){if(Array.isArray(t))return dn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return dn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vn(r.key),r)}}function vn(t){var e=function(t){if("object"!=ln(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ln(e)?e:e+""}function bn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bn=function(){return!!t})()}function mn(t,e,n,r){var o=hn(gn(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function hn(){return hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=gn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},hn.apply(null,arguments)}function gn(t){return gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gn(t)}function _n(t,e){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_n(t,e)}var wn=["_expDataLayer","_signalsDataLayer"],On=["add_virtual_page_view","set_config","subscribe"],jn=function(t){function n(t){var e,r=t.pageViewSchema,o=t.autoPageViewDisabled,i=t.beforeEvent,a=t.immediateSchemas,c=void 0===a?[]:a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e,n){return e=gn(e),function(t,e){if(e&&("object"==ln(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bn()?Reflect.construct(e,n||[],gn(t).constructor):e.apply(t,n))}(this,n,[wn])).pageViewSchema=r,e.autoPageViewDisabled=o,e.beforeEvent=i,e.immediateSchemas=[On].concat(pn(c)),e._initEvents(),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_n(t,e)}(n,t),r=n,(o=[{key:"push",value:function(t){return this.immediateSchemas.includes(t.schema)?this.process(t):mn(n,"push",this,3)([t])}},{key:"_initEvents",value:function(){for(var t=!this.autoPageViewDisabled,e=this.asyncCommands.length-1;e>=0;e--){var n=this.asyncCommands[e];n.schema!==this.pageViewSchema||n.data&&n.data.virtual_path||(t=!1),"set_config"===n.schema&&this.process.apply(this,pn(this.asyncCommands.splice(e,1)))}t&&this.process({schema:this.pageViewSchema})}},{key:"process",value:function(t){mn(n,"pushLog",this,3)([t]);try{var r=t.data,o=t.schema||t.interface,i=t.type,a=t.version||"v1",c=t.targets||[],u={eventId:_e()};this.beforeEvent&&this.beforeEvent(),function(){for(;se<te.length;){var t=te[se];l(t,(function(t,e){-1===ae.indexOf(t.toLowerCase())&&fe(t)&&(le(t,e),ue[t]=e)})),se++}}(),fn(o,i,a,r,u,c)}catch(n){var s=["Unable to process",t,"\n\n"];A.apply(e,s.concat(n))}}}])&&yn(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(Pe);function Sn(t){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(t)}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,En(r.key),r)}}function En(t){var e=function(t){if("object"!=Sn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Sn(e)?e:e+""}function kn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(kn=function(){return!!t})()}function xn(){return xn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Tn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},xn.apply(null,arguments)}function Tn(t){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tn(t)}function Cn(t,e){return Cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cn(t,e)}var In=["_trfq"],Ln=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e,n){return e=Tn(e),function(t,e){if(e&&("object"==Sn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,kn()?Reflect.construct(e,n||[],Tn(t).constructor):e.apply(t,n))}(this,e,[In])).handlers=t,n.start(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cn(t,e)}(e,t),n=e,r=[{key:"process",value:function(t){var n,r,o;(n=e,r=this,"function"==typeof(o=xn(Tn(1&3?n.prototype:n),"pushLog",r))?function(t){return o.apply(r,t)}:o)([t]);try{var i=Array.prototype.slice.call(t,1),a=t[0];this.handlers[a]?this.handlers[a].apply(null,i):A("Invalid command sent to data layer",this.dataLayerName,t)}catch(r){A("Unable to process",t,r)}}}],r&&Pn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Pe);const Rn=new et;var Dn,An,qn,Bn,Fn=function(t,e,n,r){var o=Et("cookie","sameSite")||"",i=new Date;i.setTime(i.getTime()+60*n*1e3),_().cookie="".concat(t,"=").concat(encodeURI(e),"; domain=").concat(j(),"; ")+(n?"expires=".concat(i.toGMTString(),"; "):"")+(r?"path=".concat(r,"; "):"")+(o?"SameSite=".concat(o,"; "):"")+("NONE"===o.toUpperCase()?" Secure;":"")},Mn=function(t){var e=_().cookie;return An!==e&&(qn=function(t){for(var e=t.split(";"),n=Object.create(null),r=0;r<e.length;r++){var o=/([^=]*)*=([\s\S]*)/.exec(e[r]);if(o&&o[2]){var i=o[1].trim(),a=decodeURIComponent(o[2].trim());n[i]=a}}return n}(e),An=e),qn[t]},Nn=function(t){var e=Mn(t);return v(e,"&","=")},Un=function(){var t,e=_().querySelector("meta[name='gd:traceId']");return e&&(t=e.getAttribute("content")),t&&!Yt.get("tcc.disablePageTracing")?{trace_id:t,traced:1}:{trace_id:_e().replace(/-/g,"")}},Vn=[function(){return Ct("isc",!0)},function(){return Mn("isc")},function(){return de().isc}];function Gn(t){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(t)}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hn(r.key),r)}}function Hn(t){var e=function(t){if("object"!=Gn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gn(e)?e:e+""}var zn=function(){return t=function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.input=e,this.interfaceType=n,this.interfaceVersion=r,this.internal=o,this.targets=i},(e=[{key:"preProcess",value:function(t){}},{key:"process",value:function(t){}}])&&Kn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Wn(t){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wn(t)}function $n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Qn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xn(Object(n),!0).forEach((function(e){Yn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yn(t,e,n){return(e=tr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tr(r.key),r)}}function tr(t){var e=function(t){if("object"!=Wn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Wn(e)?e:e+""}var er=function(){return t=function t(e){var n=e.contextFnMap,r=e.paramsFnMap,o=void 0===r?{}:r,i=e.windowName;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._contextFnMap=n,this._paramsFnMap=o,this._windowName=i},(e=[{key:"init",value:function(t){var e=t.context,n=void 0===e?{}:e,r=t.contextFnMap,o=void 0===r?{}:r,i=t.paramsFnMap,a=void 0===i?{}:i;this.version=0,this.context=n,this._initialContext=Jn({},n),this._contextMap={},this._contextFnMap=p(this._contextFnMap,o),this._paramsFnMap=p(this._paramsFnMap,a)}},{key:"_buildContext",value:function(t){var e=Jn({},this._initialContext);return Object.entries(t).forEach((function(t){var n,r=$n(t,2),o=r[0],i=r[1],a=o.split("."),c=e;a.forEach((function(t,e){e<a.length-1?(c[t]=c[t]||{},c=c[t]):n=t})),c[n]=i})),e}},{key:"updateContext",value:function(){var t=this;if(this._contextFnMap){var e=!1,n={},r={};Object.entries(this._paramsFnMap).forEach((function(t){var e=$n(t,2),n=e[0],o=e[1];try{r[n]=o()}catch(t){A("Error executing paramsFnMap for key: ".concat(n),t)}})),Object.entries(this._contextFnMap).forEach((function(o){var i=$n(o,2),a=i[0],c=(0,i[1])(r);t._contextMap[a]!==c&&(e=!0),void 0!==c&&(n[a]=c)})),e&&(this.version++,this.context=m(this._buildContext(n)),this._contextMap=n,this._windowName&&M(this._windowName,this.context))}}}])&&Zn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rr={"godaddy.com":1,"mediatemple.net":4500,"afternic.com":497036},or=[function(){return ne("site","privateLabelId")},function(){return Ct("plid")},function(){var t=j().replace("dev-","").replace("test-","").replace("stg-","");if(rr.hasOwnProperty(t))return rr[t]}],ir=function(){for(var t=0;t<or.length;t++){var e=or[t]();if(e&&z(e))return K(e)}};function ar(t){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(t)}function cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ur(r.key),r)}}function ur(t){var e=function(t){if("object"!=ar(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ar(e)?e:e+""}function sr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sr=function(){return!!t})()}function fr(){return fr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=lr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},fr.apply(null,arguments)}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lr(t)}function pr(t,e){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pr(t,e)}var dr={"client.userAgent":function(){return w().userAgent},"client.sdk.name":function(){return ne("client","name")},"client.sdk.version":function(){return ne("client","version")},"client.device.viewportWidth":function(t){var e=t.win,n=t.doc;return K(e.innerWidth?e.innerWidth:n.body.offsetWidth)},"client.device.viewportHeight":function(t){var e=t.win,n=t.doc;return K(e.innerHeight?e.innerHeight:n.body.offsetHeight)},"client.device.screenResolutionWidth":function(t){var e=t.win;return K(e.screen.width)},"client.device.screenResolutionHeight":function(t){var e=t.win;return K(e.screen.height)},"page.id":function(){return ne("page","id")},"page.traceId":function(){return Rn.get("trace_id")},"page.contentGroup":function(){return function(){var t=ne("page","contentGroup");if("string"!=typeof t)return t;for(var e=t.split("/"),n=e.length-1;n>=0;n--)e[n]=e[n].trim(),e[n]||e.splice(n,1);if(e.length>0)for(;e.length<3;)e.push("Other");return e.join(" / ")}()},"page.host":function(){return O()},"page.path":function(t){return t.win.location.pathname},"page.virtualPath":function(){return Rn.get("virtual_path")},"page.location":function(){return n=(t=Tt()).length?(function(t){for(var e=0;e<t.length;e++){var n=t[e].split("="),r=!1,o=n[1];o!==decodeURIComponent(n[1])&&(o=decodeURIComponent(n[1]),r=!0);var i=xt(o);r&&(i=encodeURIComponent(i)),t[e]="".concat(n[0],"=").concat(i)}}(t),"?"+t.join("&")):"",(r=g().location)&&(e="".concat(r.protocol,"//").concat(r.hostname).concat(r.pathname)),n&&(e="".concat(e).concat(n)),e;var t,e,n,r},"page.referrer":function(t){return t.doc.referrer},"site.privateLabelId":function(){return ir()}},yr={win:g,doc:_};const vr=new(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=lr(e),function(t,e){if(e&&("object"==ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,sr()?Reflect.construct(e,n||[],lr(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pr(t,e)}(e,t),n=e,r=[{key:"init",value:function(t){var n,r,o,i=t.traceId,a=t.contextFnMap,c=t.paramsFnMap;(n=e,r=this,"function"==typeof(o=fr(lr(1&3?n.prototype:n),"init",r))?function(t){return o.apply(r,t)}:o)([{context:{traceId:i},contextFnMap:a,paramsFnMap:c}])}}],r&&cr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(er))({contextFnMap:dr,paramsFnMap:yr,windowName:"globalContext"});var br="experiments";const mr=new et,hr=new er({contextFnMap:{experiments:function(){return mr.get("experiments")}}});var gr=["events"];function _r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var wr={},Or=["routing","webContext"],jr=function(t,e,n){var r=e.callback;setTimeout((function(){try{r(n)}catch(e){A("Failed to push datalayer event to subscriber (".concat(t,") callback"),e)}}),0)},Sr=function(t,e,n){var r=e.schemaIds,o=function(t,e){e.events;var n=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(e,gr),r=t.fields||[];return Or.forEach((function(t){r.includes(t)||delete n[t]})),n}(e,n);e.batch?(o.events=r?n.events.filter((function(t){return r.includes(t.schemaId)})):n.events,o.events.length>0&&jr(t,e,o)):n.events.forEach((function(n){r&&!r.includes(n.schemaId)||jr(t,e,p(o,{event:n}))}))},Pr=function(t,e){var n=xr();n.length>=Er&&q("".concat(t," subscribed to SCC after the eventQueue was full. Some events may have been lost.")),n.forEach((function(n){return Sr(t,e,n)})),wr[t]=e},Er=2e3,kr=[],xr=function(){return[].concat(kr)},Tr="urn:shared:user:event:/data-platform/signals/click/v1",Cr="urn:shared:user:event:/data-platform/signals/impression/v1",Ir="urn:shared:user:event:/data-platform/signals/element-action/v1",Lr="urn:shared:user:event:/data-platform/signals/traffic-event/v1",Rr="urn:shared:user:event:/data-platform/signals/page-view/v1",Dr="urn:shared:user:event:/data-platform/signals/ecommerce/add-to-cart/v1",Ar="urn:shared:user:event:/data-platform/signals/ecommerce/checkout-progress/v1",qr="urn:shared:user:event:/data-platform/signals/ecommerce/remove-from-cart/v1",Br="urn:shared:user:event:/data-platform/signals/ecommerce/transaction/v2",Fr="urn:shared:user:event:/data-platform/signals/ecommerce/planned-purchase/v1",Mr="urn:shared:user:event:/data-platform/signals/experiment-assignment/v1",Nr="urn:shared:user:event:/rigor/page-navigation/v1",Ur="urn:shared:user:event:/rigor/page-navigation-delayed/v1",Vr="urn:shared:user:event:/data-platform/signals/conversion/v1",Gr="urn:shared:user:event:/appconfig/id-percentage-evaluation/v1",Kr=[Dr,Ar,qr,Br,Fr],Hr=function(t){var e,n,r=t.globalSchemaId,o=t.businessContext,i=t.events,a=t.webContext,c=t.routing,u=void 0===c?{}:c,s=u.eventBusApiKey,f=u.hasConversion,l=u.targets;if($(i)&&0!==i.length){for(var d,y=W(),v=0;v<i.length;v++)i[v].data=p({eventCreationTimestamp:y},i[v].data);vr.updateContext(),hr.updateContext(),n={schemaId:r||(d=null===(e=vr.context.site)||void 0===e?void 0:e.privateLabelId,d?"urn:shared:user:events:/v2":"urn:shared:user:events:/v1"),global:vr.context,businessContext:o,events:i,webContext:p(hr.context,a),routing:{eventBusApiKey:s||Et("eventBus","sccApiKey"),globalContextVersion:vr.version,hasConversion:f,targets:l}},m(n),kr.push(n),function(t){for(var e=0,n=Object.entries(wr);e<n.length;e++){var r=(c=2,function(t){if(Array.isArray(t))return t}(a=n[e])||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(a,c)||function(t,e){if(t){if("string"==typeof t)return _r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_r(t,e):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];try{Sr(o,i,t)}catch(t){A("Failed to push datalayer event batch to subscriber (".concat(o,")"),t)}}var a,c}(n),kr.length>Er&&kr.shift()}};function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$r(r.key),r)}}function $r(t){var e=function(t){if("object"!=zr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==zr(e)?e:e+""}function Qr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qr=function(){return!!t})()}function Xr(t){return Xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xr(t)}function Jr(t,e){return Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jr(t,e)}var Yr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Xr(e),function(t,e){if(e&&("object"==zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qr()?Reflect.construct(e,n||[],Xr(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jr(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){this._pushToQueue(t)}},{key:"_pushToQueue",value:function(t){this.internal.hasFired||(Hr({globalSchemaId:this._getGlobalSchemaId(),businessContext:this._getBusinessContext(),events:this._getEvents(t),webContext:this._getWebContext(t),routing:{eventBusApiKey:this._getApiKey(),hasConversion:this._hasConversion(),targets:this.targets}}),this.internal.hasFired=!0)}},{key:"_getSchemaId",value:function(){}},{key:"_getEvents",value:function(t){return[{schemaId:this._getSchemaId(),data:t}]}},{key:"_getGlobalSchemaId",value:function(){}},{key:"_getBusinessContext",value:function(){}},{key:"_getApiKey",value:function(){}},{key:"_hasConversion",value:function(){}},{key:"_getWebContext",value:function(t){}}])&&Wr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(zn);function Zr(t){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr(t)}function to(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eo(r.key),r)}}function eo(t){var e=function(t){if("object"!=Zr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Zr(e)?e:e+""}function no(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(no=function(){return!!t})()}function ro(t){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(t)}function oo(t,e){return oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oo(t,e)}const io=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=ro(e),function(t,e){if(e&&("object"==Zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,no()?Reflect.construct(e,n||[],ro(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oo(t,e)}(e,t),n=e,(r=[{key:"_getBusinessContext",value:function(){return this.input.businessContext}},{key:"_getEvents",value:function(){return this.input.events}},{key:"_getApiKey",value:function(){return this.input.apiKey}},{key:"_getGlobalSchemaId",value:function(){return this.input.schemaId}}])&&to(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Yr);var ao=/[^a-z0-9\_\/\.\-]/g,co=/^([a-z0-9_\-]+)\.([a-z0-9_\-]+)\.(([a-z0-9_\/\-]+)\.)?([a-z0-9_\/\-]+)\.([a-z0-9_\-]+)\.([a-z0-9_\-]+)$/g,uo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.eid,n=t.customProperties,r=t.eventCategory;return p({pageLevelProperties:de(),identityRealm:ne("identity","realm")},e&&{eid:e},n&&{customProperties:n},r&&{eventCategory:r})},so=function(t,e,n,r){var o={traffic:uo({eid:e,customProperties:r}),producerEventId:t};if(e){var i=function(t){return t.split(".")}(e),a=function(t){return t[t.length-1]}(i);(function(t){return!!(t.match(co)&&t.length<=500)})(e)&&function(t,e,n){return e===n&&t.length>=5&&t.length<=6}(i,a,n)&&(o.element=function(t,e){var n=6===t.length?1:0,r={area:t[0],product:t[1],section:t[2+n],widget:t[3+n]};return["impression","click"].includes(e)||(r.action=e),r}(i,a))}return o},fo=function(t,e,n,r){null!=r&&null!=n&&0!==r&&0!==n&&n>r&&(t[e]=Math.round(n-r))},lo=function(t,e,n,r){var o=ut(e);!function(t,e){fo(t,"pageLoadTime",e.loadEventStart,e.navigationStart),fo(t,"domContentLoadedTime",e.domContentLoadedEventStart,e.navigationStart),fo(t,"domInteractiveTime",e.domInteractive,e.navigationStart),fo(t,"pageDownloadTime",e.responseEnd,e.responseStart),fo(t,"domainLookupTime",e.domainLookupEnd,e.domainLookupStart),fo(t,"serverResponseTime",e.responseStart,e.requestStart),fo(t,"serverConnectionTime",e.connectEnd,e.connectStart),fo(t,"redirectionTime",e.fetchStart,e.navigationStart)}(o,e);var i={navigationType:e.navigationType,timing:{navigation:o},traffic:uo({customProperties:n}),producerEventId:t,contentLoadType:r};return"hard"===r&&(i.response=st(e),i.timing.marks=e.marks,i.timing.measures=e.measures,i.timing.paint={firstPaint:e.fp,firstContentfulPaint:e.fcp,largestContentfulPaint:e.lcp}),i},po=function(t,e,n){return{timing:{paint:{largestContentfulPaint:e.LCP},vitals:{cumulativeLayoutShift:e.CLS,firstInputDelay:e.FID,timeToInteractive:e.timeToInteractive,interactionToNextPaint:e.INP}},traffic:uo({customProperties:n}),producerEventId:t}};function yo(t){return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(t)}function vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bo(r.key),r)}}function bo(t){var e=function(t){if("object"!=yo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=yo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yo(e)?e:e+""}function mo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mo=function(){return!!t})()}function ho(t){return ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ho(t)}function go(t,e){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},go(t,e)}const _o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=ho(e),function(t,e){if(e&&("object"==yo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mo()?Reflect.construct(e,n||[],ho(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(e,t),n=e,r=[{key:"_getSchemaId",value:function(){return Ir}},{key:"_getActionType",value:function(t){return t.element.action}},{key:"_getEvents",value:function(t,e){var n=t.traffic||{};return n.eid=this._buildLegacyEid(this._getActionType(t),t.element,n.eid),[{schemaId:this._getSchemaId(),data:p(t,{producerEventId:e||this.internal.eventId,element:t.element,traffic:uo(n)})}]}},{key:"_buildLegacyEid",value:function(t,e){return arguments.length>2&&void 0!==arguments[2]?arguments[2]:"".concat(e.area,".").concat(e.product,".").concat(e.section,".").concat(e.widget,".").concat(t)}},{key:"_transformLegacyPromo",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.eid,o=n.customProperties,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{id:i.id,name:i.name,creative_name:i.creative,creative_slot:i.position,type:t,properties:o,eid:this._buildLegacyEid(t,e,r)}}},{key:"_isPromo",value:function(t){return t.promotion&&Object.keys(t.promotion).length>0}}],r&&vo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Yr);function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}function Oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jo(r.key),r)}}function jo(t){var e=function(t){if("object"!=wo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==wo(e)?e:e+""}function So(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(So=function(){return!!t})()}function Po(t){return Po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(t)}function Eo(t,e){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Eo(t,e)}const ko=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Po(e),function(t,e){if(e&&("object"==wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,So()?Reflect.construct(e,n||[],Po(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}(e,t),n=e,(r=[{key:"_getSchemaId",value:function(){return Tr}},{key:"_getActionType",value:function(){return"click"}}])&&Oo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(_o);function xo(t){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(t)}function To(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Io(r.key),r)}}function Io(t){var e=function(t){if("object"!=xo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xo(e)?e:e+""}function Lo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lo=function(){return!!t})()}function Ro(){return Ro="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Do(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ro.apply(null,arguments)}function Do(t){return Do=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(t)}function Ao(t,e){return Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ao(t,e)}const qo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Do(e),function(t,e){if(e&&("object"==xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Lo()?Reflect.construct(e,n||[],Do(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ao(t,e)}(e,t),n=e,r=[{key:"_getSchemaId",value:function(){return Cr}},{key:"_getActionType",value:function(){return"impression"}},{key:"_getEvents",value:function(t){var n=this,r=[];return t.impressions.forEach((function(t){var o,i,a;r.push.apply(r,function(t){return function(t){if(Array.isArray(t))return To(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return To(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?To(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((o=e,i=n,"function"==typeof(a=Ro(Do(1&3?o.prototype:o),"_getEvents",i))?function(t){return a.apply(i,t)}:a)([t,_e()])))})),r}}],r&&Co(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(_o);function Bo(t){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(t)}function Fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mo(r.key),r)}}function Mo(t){var e=function(t){if("object"!=Bo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Bo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Bo(e)?e:e+""}function No(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(No=function(){return!!t})()}function Uo(t){return Uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uo(t)}function Vo(t,e){return Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vo(t,e)}var Go=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Uo(e),function(t,e){if(e&&("object"==Bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,No()?Reflect.construct(e,n||[],Uo(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vo(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){d(t.config),l(t.config,(function(e,n){if(!t.overwrite){var r=Yt.get(e);$(r)?n=[].concat(r,n):"object"===Bo(r)&&(n=p(r,n))}Yt.set(e,n)}))}}])&&Fo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(zn);function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Ho(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zo(r.key),r)}}function zo(t){var e=function(t){if("object"!=Ko(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ko(e)?e:e+""}function Wo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wo=function(){return!!t})()}function $o(t){return $o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$o(t)}function Qo(t,e){return Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qo(t,e)}var Xo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=$o(e),function(t,e){if(e&&("object"==Ko(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wo()?Reflect.construct(e,n||[],$o(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qo(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){Pr(t.name,{callback:t.callback,schemaIds:t.schemaIds,batch:t.batch,fields:t.fields})}}])&&Ho(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(zn);function Jo(t){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(t)}function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zo(r.key),r)}}function Zo(t){var e=function(t){if("object"!=Jo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Jo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Jo(e)?e:e+""}function ti(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ti=function(){return!!t})()}function ei(t,e,n,r){var o=ni(ri(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function ni(){return ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ri(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ni.apply(null,arguments)}function ri(t){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ri(t)}function oi(t,e){return oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oi(t,e)}var ii,ai,ci=function(t){var e={};if($(t))for(var n=0;n<t.length;n++){var r=t[n];$(r)&&(e[r[0]]=y(r))}return e},ui=function(t){return v(t,"^",",")},si=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=ri(e),function(t,e){if(e&&("object"==Jo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ti()?Reflect.construct(e,n||[],ri(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oi(t,e)}(e,t),n=e,(r=[{key:"setTDataString",value:function(t){ei(e,"merge",this,3)([ui(t)])}},{key:"stringify",value:function(){var t,e=d(this.getProperties());(t=e)&&l(t,(function(e,n){var r=(e+"").split(".").join("_");delete t[e],t[r]=n}));var n=b(e,"^",",");if(n)return n}},{key:"set",value:function(t,n){"object"!==Jo(n)&&"[object Function]"!=={}.toString.call(n)?ei(e,"set",this,3)([t,n]):A("Invalid key/value pair found in Traffic's custom properties (tData). Objects, arrays, and functions are not supported.\n\nKey: '".concat(t,"' Value: '").concat(n,"' Type: '").concat(Jo(n),"'."))}}])&&Yo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(et),fi=function(t){var e=new si;return e.merge(t.custom_properties),t.traffic&&e.merge(t.traffic.customProperties),e},li=function(t,e){var n=t.eid||e&&e();if(!n)throw"";if(t.eid=n.toLowerCase(),function(t){return t.match(ao)}(t.eid))throw t.eid,"";return t},pi=function(t){var e=t.traffic;return e&&li(e),t};function di(t){return di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},di(t)}function yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vi(r.key),r)}}function vi(t){var e=function(t){if("object"!=di(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=di(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==di(e)?e:e+""}function bi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bi=function(){return!!t})()}function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mi(t)}function hi(t,e){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hi(t,e)}var gi=0,_i=function(){var t=Yt.get("components");if(ai!==t)return ai=t},wi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=mi(e),function(t,e){if(e&&("object"==di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bi()?Reflect.construct(e,n||[],mi(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hi(t,e)}(e,t),n=e,(r=[{key:"_getWebContext",value:function(){return{pageViewCount:gi}}},{key:"_getEvents",value:function(t){var e=fi(t);return[{schemaId:Rr,data:{forensics:{traceIdAdopted:G(Rn.get("traced")),components:_i()},traffic:uo({customProperties:e.getProperties()}),producerEventId:this.internal.eventId}}]}},{key:"preProcess",value:function(t){var e=t.path||t.virtual_path||t.virtualPath,n=void 0!==e;if(n||(e=g().location.pathname),ii===e)throw"cmd: LogPageRequest duplicate page request detected, ignoring duplicate path";ii=e,Rn.set("corrid",Math.floor(2147483647*Math.random())),n&&(pe(),Rn.set("virtual_path",e)),Dn.incrementPageCount(),gi+=1,Rn.get("trace_id")||Rn.merge(Un())}}])&&yi(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Yr),Oi=function(t){return[(new cn).map("element",[new an("area").required().pattern(Be),new an("product").required().pattern(Be),new an("section").required().pattern(Fe),new an("widget").required().pattern(Be)]).required().extend(t)]},ji=function(t){return[(new cn).map("traffic",[new on("customProperties")]).extend(t)]},Si=function(){return[(new cn).substitute(ji([new on("eid")]))]},Pi=function(){return[(new cn).substitute(Oi()),(new cn).substitute(Si()),(new cn).map("promotion",[new on("id").required(),new on("name"),new on("creative"),new on("position")]),(new cn).map("product",[new on("actionCode").required().allowedValues(["add_to_cart","product_detail"]),(new cn).map("basket",[new on("couponCode"),new on("currencyCode"),new on("itemTrackingCode")]),(new un).map("products",[new on("productId").required(),new on("productName"),new on("productInstanceId"),new on("priceUsd"),new on("quantity").required(),new on("couponCode"),new on("itemTrackingCode")]),(new un).map("packages",[new on("id"),new on("priceUsd"),new on("quantity"),new on("category")])])]};const Ei={add_click:{v1:{handler:ko,properties:[(new cn).substitute(Pi()).transform(pi)]}},add_element_action:{v1:{handler:_o,properties:[(new cn).substitute([(new cn).substitute(Oi([new on("action").required().allowedValues(["blur","drag","focus","hover","load","scroll"])])),(new cn).substitute(Si())]).transform(pi)]}},add_impressions:{v1:{handler:qo,properties:[(new un).map("impressions",[(new cn).substitute(Pi()).transform(pi)]).withMinElements(1)]}},add_virtual_page_view:{v1:{handler:wi,properties:[new on("virtualPath").required(),(new cn).substitute(ji())]}},add_micro_events:{v1:{handler:io,properties:[new on("apiKey").required(),new on("schemaId").required(),(new un).map("events",[new on("schemaId").required(),new on("data").required()]).withMinElements(1),(new cn).map("businessContext",[new on("schemaId").required(),new on("data").required()])]}},subscribe:{v1:{handler:Xo,properties:[new on("name").required(),new on("callback").required(),new on("schemaIds"),new on("fields"),new on("batch")]}},set_config:{v1:{handler:Go,properties:[(new cn).map("config",[(new un).map("components",[new on("name").required(),new on("version").required().outputType(qe)]),(new cn).map("cookie",[new on("sameSite")]),(new cn).map("page",[new on("spa"),new on("id"),new on("contentGroup"),new on("referrerExclusion")]),(new cn).map("identity",[new on("realm")]),(new cn).map("site",[new on("privateLabelId")]),(new cn).map("timing",[new on("auto")])]).required(),new on("overwrite")]}}};function ki(t){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(t)}function xi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xi(Object(n),!0).forEach((function(e){Ci(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ci(t,e,n){return(e=function(t){var e=function(t){if("object"!=ki(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ki(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ki(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ii=function(t,e){var n=mr.get(br)||{};mr.set(br,Ti(Ti({},n),{},Ci({},t,e)))};function Li(t){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(t)}function Ri(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ri(Object(n),!0).forEach((function(e){Ai(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ai(t,e,n){return(e=function(t){var e=function(t){if("object"!=Li(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Li(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Li(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Pr("scc-experiment-listener",{callback:function(t){var e=t.event,n=e.data;if(e.schemaId===Mr)Ii(n.experimentId,n.variantId);else if(e.schemaId===Gr&&"hivemind"===n.fqAppId){var r=JSON.parse(n.settingValue);Ii(n.setting,r.cohortId)}},schemaIds:[Mr,Gr]});var qi=!1,Bi=function(t){var e=t.trfqMethods,n=t.legacyName,r=t.dataLayerConfig,o=t.globalContextConfig,i=t.hooks,a=i.onLoad,c=i.beforeLoad,u=i.beforeEvent,s=i.getEnvironment;if(!qi){qi=!0,re("build","env",s&&s()||ne("build","env")),Rn.merge(Un()),vr.init(Di({traceId:Rn.get("trace_id")},o)),Ae(Ei),function(){var t=g();if(t.PerformanceObserver){var e=new t.PerformanceObserver((function(t){var e=t.getEntries(),n=e[e.length-1];n.renderTime&&(rt.lcp=Math.round(n.startTime))}));try{e.observe({type:"largest-contentful-paint",buffered:!0})}catch(t){}}}();var f=new gt("complete"===_().readyState,(function(t){g().addEventListener("load",t)})),l=Dn.getSession();c&&c();var p=new jn(Di({autoPageViewDisabled:Yt.get("".concat(n,".manualPageRequest")),beforeEvent:u},r));f.registerOnLoadFn((function(){var t,r;a&&a(),p.start(),new Ln(e),ne("timing","auto")&&yt(n,"auto"),ne("eventBus","enabled")&&(M(Ut,[]),Nt=new Mt(Vt),g()._signalsDataLayer=g()._signalsDataLayer||[],g()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-event-bus",batch:!0,fields:["routing"],callback:function(t){var e=t.schemaId,n=t.global,r=t.businessContext,o=t.events,i=t.routing,a=i.eventBusApiKey,c=i.hasConversion,u=i.globalContextVersion;Nt.pushEvent({apiKey:a,businessContext:r,contextVersion:u,schemaId:e,global:n,events:o},c)}}})),t=ne("cdep","appId"),r=l.visitorGuid,t&&Hr({events:[{schemaId:"urn:shared:user:event:/cdep/app-evaluation/v1",data:{cdepAppId:t,bucketingId:r,bucketingIdType:"visitorId",commitHash:ne("client","hash")}}]})})),D("SCC STARTED",Yt.getProperties())}};function Fi(t){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(t)}function Mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ni(r.key),r)}}function Ni(t){var e=function(t){if("object"!=Fi(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fi(e)?e:e+""}function Ui(t){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(t)}function Vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zi(r.key),r)}}function Gi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Gi=function(){return!!t})()}function Ki(t){return Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ki(t)}function Hi(t,e){return Hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hi(t,e)}function zi(t){var e=function(t){if("object"!=Ui(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ui(e)?e:e+""}var Wi=function(t){function e(){var t,n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=function(t,e,n){return e=Ki(e),function(t,e){if(e&&("object"==Ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Gi()?Reflect.construct(e,n||[],Ki(t).constructor):e.apply(t,n))}(this,e,[].concat(a)),n=t,o="fb_sessiontraffic",(r=zi(r="_sessionCookieName"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hi(t,e)}(e,t),n=e,(r=[{key:"getSession",value:function(){var t=function(){var t=Nn("visitor");if(t.hasOwnProperty("vid"))return t.vid}(),e=Nn(this._sessionCookieName),n=e.pathway,r=K(e.pc)||0;if(void 0===n){n=_e(),r=0;var o=W(),i={C_TOUCH:o,pathway:n,V_DATE:o,pc:r};Fn("pathway",n,20,"/"),this.saveSessionCookie(i)}if(void 0===t){var a="vid=".concat(t=n);Fn("visitor",a,525600,"/")}return{visitorGuid:t,visitGuid:n,pageCount:r}}}])&&Vi(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(function(){return t=function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=void 0,(n=Ni(n="_sessionCookieName"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r},(e=[{key:"getSession",value:function(){}},{key:"saveSessionCookie",value:function(t){var e=b(t,"&","=");Fn(this._sessionCookieName,e,20,"/")}},{key:"incrementPageCount",value:function(){var t=Nn(this._sessionCookieName),e=K(t.pc)||0;t.pc=e+1,t.C_TOUCH=W(),this.saveSessionCookie(t)}}])&&Mi(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}());function $i(t){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}function Qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xi(r.key),r)}}function Xi(t){var e=function(t){if("object"!=$i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$i(e)?e:e+""}function Ji(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ji=function(){return!!t})()}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yi(t)}function Zi(t,e){return Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zi(t,e)}var ta=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Yi(e),function(t,e){if(e&&("object"==$i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ji()?Reflect.construct(e,n||[],Yi(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zi(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){yt("tcc","manual",t.custom_properties)}}])&&Qi(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(zn),ea="traffic.tcc.instrumentation.navigation.timing";function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oa(r.key),r)}}function oa(t){var e=function(t){if("object"!=na(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=na(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==na(e)?e:e+""}function ia(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ia=function(){return!!t})()}function aa(t){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aa(t)}function ca(t,e){return ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ca(t,e)}var ua=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=aa(e),function(t,e){if(e&&("object"==na(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ia()?Reflect.construct(e,n||[],aa(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ca(t,e)}(e,t),n=e,(r=[{key:"_getApiKey",value:function(){return ne("eventBus","rigorApiKey")}},{key:"_getWebContext",value:function(t){var e=t.properties;if(e)return{virtualPath:e.virtual_path,page:e.page}}},{key:"_getEvents",value:function(t){var e=t.properties;if(e){if(e.navigationStart)return[{schemaId:Nr,data:lo(this.internal.eventId,e,t.custom_properties,e.nav_type)}];if(e.timeToInteractive)return[{schemaId:Ur,data:po(this.internal.eventId,e,t.custom_properties)}]}if(t.custom_properties)return[{schemaId:Lr,data:{traffic:uo({customProperties:t.custom_properties,eid:ea,eventCategory:t.type}),producerEventId:this.internal.eventId}}]}}])&&ra(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Yr);function sa(t){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(t)}function fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,la(r.key),r)}}function la(t){var e=function(t){if("object"!=sa(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=sa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==sa(e)?e:e+""}function pa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pa=function(){return!!t})()}function da(t){return da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},da(t)}function ya(t,e){return ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ya(t,e)}const va=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=da(e),function(t,e){if(e&&("object"==sa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pa()?Reflect.construct(e,n||[],da(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ya(t,e)}(e,t),n=e,(r=[{key:"_getWebContext",value:function(t){return{eventLabel:t.event_label||this.customProperties.getProperties().event_label,tms:t.tms,href:t.href,tcode:t.tcode,ci:t.ci}}},{key:"preProcess",value:function(t){this.customProperties=fi(t),this.customProperties.merge(t.properties)}},{key:"_getEvents",value:function(t){var e=t.eid,n=t.type.toLowerCase(),r=function(t){return"click"===t?Tr:"impression"===t?Cr:["blur","drag","focus","hover","load","scroll"].includes(t)?Ir:Lr}(n),o=this.customProperties.getProperties();return[{schemaId:r,data:r!==Lr?so(this.internal.eventId,e,n,o):{traffic:uo({customProperties:o,eid:e,eventCategory:n}),producerEventId:this.internal.eventId}}]}}])&&fa(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Yr);function ba(t){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(t)}function ma(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ha(r.key),r)}}function ha(t){var e=function(t){if("object"!=ba(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ba(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ba(e)?e:e+""}function ga(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ga=function(){return!!t})()}function _a(t){return _a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_a(t)}function wa(t,e){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wa(t,e)}var Oa=["ineligible","inelligible"],ja=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=_a(e),function(t,e){if(e&&("object"==ba(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ga()?Reflect.construct(e,n||[],_a(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wa(t,e)}(e,t),n=e,(r=[{key:"_getWebContext",value:function(t){return{experimentType:this.interfaceType||t.experiment_type,contentId:t.content_id}}},{key:"_getEvents",value:function(t){for(var e=0,n=Oa;e<n.length;e++){var r=n[e];if(t.variant_id.toLowerCase().includes(r))return}return[{schemaId:Mr,data:{experimentId:t.experiment_id,experimentSource:t.experiment_source,variantId:t.variant_id,traffic:uo({customProperties:t.custom_properties}),producerEventId:this.internal.eventId}}]}}])&&ma(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Yr);function Sa(t){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(t)}function Pa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ea(r.key),r)}}function Ea(t){var e=function(t){if("object"!=Sa(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Sa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Sa(e)?e:e+""}function ka(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ka=function(){return!!t})()}function xa(t){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xa(t)}function Ta(t,e){return Ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ta(t,e)}const Ca=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=xa(e),function(t,e){if(e&&("object"==Sa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ka()?Reflect.construct(e,n||[],xa(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ta(t,e)}(e,t),n=e,(r=[{key:"_addCspEvent",value:function(t,e,n,r,o){var i=o.id,a=o.eid,c=o.name,u=o.creative_name,s=o.creative_slot,f=o.dom_element,l=o.dom_event;a=a||C(f,l).e_id;var d=so(t,a,n,r);e.push({schemaId:"urn:shared:user:event:/data-platform/signals/".concat(n,"/v1"),data:p(d,{promotion:{id:i,name:c,creative:u,position:s}})})}},{key:"_getEvents",value:function(t){var e=this,n=[],r=this.interfaceType,o=fi(t).getProperties();return t.hasOwnProperty("promotions")?t.promotions.map((function(t){e._addCspEvent(_e(),n,r,o,t)})):this._addCspEvent(this.internal.eventId,n,r,o,t),n}}])&&Pa(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Yr);function Ia(t){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(t)}function La(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ra(r.key),r)}}function Ra(t){var e=function(t){if("object"!=Ia(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ia(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ia(e)?e:e+""}function Da(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Da=function(){return!!t})()}function Aa(t){return Aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Aa(t)}function qa(t,e){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qa(t,e)}var Ba=!1,Fa=["cartEditProduct","cartEditProductIdBefore","cartEditProductIdAfter","cartEditQtyBefore","cartEditQtyAfter","cart_payment_reason_response_code","cart_payment_billing_country","cart_payment_error_code"],Ma=function(t){return{editFlag:G(t.cartEditProduct),beforePfid:t.cartEditProductIdBefore,afterPfid:t.cartEditProductIdAfter,beforeQuantity:K(t.cartEditQtyBefore),afterQuantity:K(t.cartEditQtyAfter)}},Na=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Aa(e),function(t,e){if(e&&("object"==Ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Da()?Reflect.construct(e,n||[],Aa(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qa(t,e)}(e,t),n=e,(r=[{key:"preProcess",value:function(){if("purchase"===this.interfaceType){if(Ba)throw"cmd: LogEcommEvent duplicate purchase event detected, ignoring duplicate";Ba=!0}}},{key:"_hasConversion",value:function(){return"purchase"===this.interfaceType}},{key:"_getWebContext",value:function(t){var e=this,n=[];t.items&&t.items.forEach((function(t){var r={fullProductName:t.full_product_name,productCategoryId:t.product_category_id,category:t.category,brand:t.brand,variant:t.variant};"purchase"===e.interfaceType&&(r.cjProductId=t.cj_product_id,r.cjProductPriceUsd=H(t.cj_product_price_usd),r.cjProductQuantity=K(t.cj_product_quantity),r.originalCurrencySubtotal=H(t.original_currency_subtotal)),n.push(r)}));var r={products:n};return"purchase"===this.interfaceType?(r.orderRegion=t.order_region,r.pageType=t.page_type,r.hashedEmail=t.hashed_email,r.originalCurrency=t.original_currency):(r.eventLabel=t.eid_label||t.el,"add_to_cart"!==this.interfaceType&&"remove_from_cart"!==this.interfaceType||(r.valueUsd=H(t.value))),r}},{key:"_getEvents",value:function(t){var e=fi(t),n=[];t.items&&t.items.forEach((function(t){n.push({productId:t.id,priceUsd:H(t.price),productName:t.name,quantity:K(t.quantity),couponCode:t.coupon,itemTrackingCode:t.item_tracking_code})}));var r=[];t.pkgs&&t.pkgs.forEach((function(t){r.push({id:t.pkgid,priceUsd:H(t.pkgpr),quantity:K(t.pkgqt),category:t.pkgca})}));var o={currencyCode:t.currency},i={type:t.cart_type},a=e.getProperties(),c=p(a);Fa.forEach((function(t){delete c[t]}));var u=uo({customProperties:c}),s=this.internal.eventId;switch(this.interfaceType){case"add_to_cart":return[{schemaId:Dr,data:{cart:p(i,Ma(a)),basket:o,packages:r,products:n,traffic:u,producerEventId:s}}];case"begin_checkout":case"checkout_progress":return[{schemaId:Ar,data:{cart:i,basket:p(o,{couponCode:t.coupon}),checkout:{option:t.checkout_option,step:K(t.checkout_step)},payment:{processor:t.payment_processor,reasonResponseCode:a.cart_payment_reason_response_code,billingCountry:a.cart_payment_billing_country,errorCode:a.cart_payment_error_code},products:n,traffic:u,producerEventId:s}}];case"remove_from_cart":return[{schemaId:qr,data:{cart:p(i,Ma(a)),basket:o,packages:r,products:n,traffic:u,producerEventId:s}}];case"purchase":return[{schemaId:Br,data:{cart:p(i,{activationRedirectFlag:G(t.activation_redirect)}),basket:p(o,{couponCode:t.coupon}),order:{discountUsd:H(t.order_discount_usd),fromWebsiteFlag:G(t.order_from_website),totalNewUsd:H(t.order_total_new_usd),totalRenewalUsd:H(t.order_total_renewal_usd),valueUsd:H(t.value),firstOrderFlag:G(t.first_order),newCustomerFlag:G(t.new_customer),newVsRenewal:t.new_vs_renewal,transactionId:t.transaction_id},payment:{processor:t.payment_processor,pendingFlag:G(t.payment_pending)},products:n,traffic:u,producerEventId:s}}];case"planned_purchase":return[{schemaId:Fr,data:{cart:p(i,{activationRedirectFlag:G(t.activation_redirect)}),basket:p(o,{couponCode:t.coupon}),order:{discountUsd:H(t.order_discount_usd),totalNewUsd:H(t.order_total_new_usd),totalRenewalUsd:H(t.order_total_renewal_usd),valueUsd:H(t.value),firstOrderFlag:G(t.first_order),newCustomerFlag:G(t.new_customer),transactionId:t.transaction_id},payment:{processor:t.payment_processor,pendingFlag:G(t.payment_pending)},products:n,traffic:u,producerEventId:s}}]}}}])&&La(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Yr);function Ua(t){return Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(t)}function Va(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ga(r.key),r)}}function Ga(t){var e=function(t){if("object"!=Ua(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ua(e)?e:e+""}function Ka(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ka=function(){return!!t})()}function Ha(t){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ha(t)}function za(t,e){return za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},za(t,e)}var Wa=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Ha(e),function(t,e){if(e&&("object"==Ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ka()?Reflect.construct(e,n||[],Ha(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&za(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){var e="v1"===this.interfaceVersion?"v1":"v2";fn("add_event",void 0,e,p(t,{type:"impression"}),this.internal,this.targets)}}])&&Va(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(zn);function $a(t){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(t)}function Qa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xa(r.key),r)}}function Xa(t){var e=function(t){if("object"!=$a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$a(e)?e:e+""}function Ja(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ja=function(){return!!t})()}function Ya(t){return Ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ya(t)}function Za(t,e){return Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Za(t,e)}var tc,ec=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Ya(e),function(t,e){if(e&&("object"==$a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ja()?Reflect.construct(e,n||[],Ya(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Za(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){var e=t.timing_metrics,n=t.virtual_path;"v2"===this.interfaceVersion&&(e=t.timing.navigation),fn("add_perf",void 0,"v1",{type:"pageperf",properties:p(e,{nav_type:"soft",navigationType:t.type,page:n,virtual_path:n}),custom_properties:t.custom_properties},this.internal,this.targets);var r=g();t.perf_mark_name&&r.performance&&r.performance.mark&&r.performance.mark(t.perf_mark_name)}}])&&Qa(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(zn),nc=function(){var t=Mn("_ga");if(t){var e=t.split(".");if(4===e.length)return"".concat(e[2],".").concat(e[3]);if(3===e.length)return"".concat(e[1],".").concat(e[2]);A("GA cookie malformed: ".concat(t))}};function rc(t){if(tc)return tc;t&&t.startsWith("G-")&&(t=t.replace("G-",""));var e=Mn("_ga_".concat(t));if(e){var n=e.split(".");if(n.length>3)return tc={gaSessionId:n[2],gaSessionNumber:parseInt(n[3],10)}}}function oc(t){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(t)}function ic(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ac(r.key),r)}}function ac(t){var e=function(t){if("object"!=oc(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=oc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==oc(e)?e:e+""}function cc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cc=function(){return!!t})()}function uc(t){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uc(t)}function sc(t,e){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sc(t,e)}var fc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=uc(e),function(t,e){if(e&&("object"==oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cc()?Reflect.construct(e,n||[],uc(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sc(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){var e={},n=(new Wi).getSession();e.vg=n.visitGuid,e.vtg=n.visitorGuid,e.corrid=Rn.get("corrid"),e.experiments=mr.get(br),e.gauid=nc(),e.traceid=Rn.get("trace_id"),"function"==typeof t.callback&&t.callback(e)}}])&&ic(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(zn);function lc(t){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(t)}function pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dc(r.key),r)}}function dc(t){var e=function(t){if("object"!=lc(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=lc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lc(e)?e:e+""}function yc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yc=function(){return!!t})()}function vc(t){return vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vc(t)}function bc(t,e){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bc(t,e)}var mc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=vc(e),function(t,e){if(e&&("object"==lc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yc()?Reflect.construct(e,n||[],vc(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bc(t,e)}(e,t),n=e,(r=[{key:"_getEvents",value:function(t){var e=t.properties||{};return[{schemaId:Vr,data:{virtualOrderId:e.virtual_order_id,packageId:e.package_id,packageCategory:e.package_category,conversion:{area:t.area,revenue:t.revenue,product:t.product,action:t.action},traffic:uo({customProperties:t.custom_properties}),producerEventId:this.internal.eventId}}]}},{key:"_hasConversion",value:function(){return!0}}])&&pc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Yr);function hc(t){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(t)}function gc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_c(r.key),r)}}function _c(t){var e=function(t){if("object"!=hc(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=hc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==hc(e)?e:e+""}function wc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wc=function(){return!!t})()}function Oc(t){return Oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oc(t)}function jc(t,e){return jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jc(t,e)}var Sc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Oc(e),function(t,e){if(e&&("object"==hc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wc()?Reflect.construct(e,n||[],Oc(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jc(t,e)}(e,t),n=e,r=[{key:"process",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t.callback("control")}))}],r&&gc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(zn),Pc=[Rr,Dr,qr,Ar,Br,Fr,Tr,Cr,Lr,Ir,Vr],Ec=[ea],kc=function(t){return t.schemaId!==Lr||!t.data.traffic.eid.startsWith("hivemind")&&!Ec.includes(t.data.traffic.eid)},xc=function(t){return t.filter(kc)},Tc=["da-DK","de-AT","de-CH","de-DE","en-GB","en-IE","es-ES","fr-BE","fr-CH","fr-FR","it-CH","it-IT","nb-NO","nl-BE","nl-NL","pl-PL","pt-PT","sv-SE"],Cc=["da-DK","de-AT","de-BE","de-CH","de-DE","en-GB","en-IE","es-ES","fr-BE","fr-CH","fr-FR","it-CH","it-IT","nb-NO","nl-BE","nl-NL","pl-PL","pt-PT","sr-SR","sv-SE"],Ic=["en-AE","ar-AE","en-HK","en-IL","en-MY","en-PH","ru-RU","tr-TR","uk-UA","vi-VN","zh-CN","zh-HK"],Lc=function(t,e){var n=ne("consent",t);return void 0===n?function(t){var e=Mn("market"),n=Mn("OPTOUTMULTI");if(!e||Cc.indexOf(e)>-1||n){if(!n)return!1;var r=n.split("|");return!(r.length<=t)&&-1===r[t].indexOf(":1")}return!0}(e):n},Rc=function(){return Lc("marketingFlag",1)},Dc=function(){return Lc("analyticsFlag",2)},Ac=function(){return Lc("supportFlag",3)},qc="denied",Bc="granted",Fc=function(t,e){var n,r;e("consent",t,(n=Dc()?Bc:qc,{ad_storage:r=Rc()?Bc:qc,ad_user_data:r,ad_personalization:r,analytics_storage:n}))},Mc=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).privateLabelId;return!t||ir()===t},Nc=function(t){var e=F("globalContext");return t.map((function(t){return p(t,{global:p(t.global,{consent:e.consent,context:p(t.global.context,{googleAccountId:e.context.googleAccountId})})})}))};function Uc(t){return Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(t)}function Vc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vc(Object(n),!0).forEach((function(e){Kc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kc(t,e,n){return(e=function(t){var e=function(t){if("object"!=Uc(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Uc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Uc(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hc=[],zc=!1,Wc="_wGtmDataLayer",$c="_wGtmDataSendLog",Qc=g()[Wc]||[],Xc=[];function Jc(){Q(F($c),arguments),Qc.push(arguments)}var Yc=function(t){var e,n=t.event,r=t.schemaId,o=t.global,i=t.businessContext,a=t.webContext,c=void 0===a?{}:a;Jc("event",n.schemaId,{event:n,schemaId:r,global:o,businessContext:i,webContext:Gc(Gc({},c),{},{ga4AccountId:(e=g().utag_data,(void 0===e?{}:e).pl_ga_account_id)})})},Zc=function(){Fc("update",Jc)},tu=function(){var t=Et("wGtm","requireGoogleClientId")&&!nc();Dc()&&t?setTimeout(tu,75):(Nc(Hc).forEach((function(t){Yc(t)})),zc=!0)},eu=function(t){!function(){N(Wc,Qc),M($c,Xc),Fc("default",Jc),Jc("event","gtm.js",{"gtm.start":(new Date).getTime(),js:new Date});var t=Et("wGtm","account");!Et("wGtm","enableProxy")||G(Ct("scc_debug",!0))||G(Mn("scc_debug"))?_t("https://www.googletagmanager.com/gtm.js?id=".concat(t,"&l=").concat(Wc)):_t("https://img1.wsimg.com/signals/js/tagging/g.js?p=".concat(t,"&l=").concat(Wc))}(),g()._signalsDataLayer=g()._signalsDataLayer||[],g()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-wgtm",fields:["webContext"],callback:function(t){var e,n=t.schemaId,r=t.global,o=t.businessContext,i=t.event,a=t.webContext;kc((e={businessContext:o,schemaId:n,global:r,event:i,webContext:a}).event)&&(zc?Yc(e):Hc.push(e))},schemaIds:Pc}}),t&&tu()};function nu(t){return nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(t)}function ru(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ou(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ou(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ou(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,au(r.key),r)}}function au(t){var e=function(t){if("object"!=nu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=nu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==nu(e)?e:e+""}function cu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cu=function(){return!!t})()}function uu(t){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(t)}function su(t,e){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},su(t,e)}var fu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=uu(e),function(t,e){if(e&&("object"==nu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cu()?Reflect.construct(e,n||[],uu(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&su(t,e)}(e,t),n=e,(r=[{key:"process",value:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=ru(n[e],2),o=(r[0],r[1]);"boolean"!=typeof o&&A("")}["analyticsFlag","marketingFlag","supportFlag"].forEach((function(e){"boolean"==typeof t[e]&&re("consent",e,t[e])})),pe(),Zc()}}])&&iu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(zn),lu=function(t){return t.length>10?t.substr(0,10):t},pu=function(t,e){var n;if(!isNaN(parseFloat(e.order_total_new_usd))&&!isNaN(parseFloat(e.order_total_renewal_usd)))return l({"new-and-renewal-products":parseFloat(e.order_total_new_usd)>0&&parseFloat(e.order_total_renewal_usd)>0,"new-product-only":parseFloat(e.order_total_new_usd)>0&&0===parseFloat(e.order_total_renewal_usd),"renewal-product-only":0===parseFloat(e.order_total_new_usd)&&parseFloat(e.order_total_renewal_usd)>0,"unknown-products":0===parseFloat(e.order_total_new_usd)&&0===parseFloat(e.order_total_renewal_usd)},(function(t,e){!0===e&&(n=t)})),n},du=function(t){return li(t,(function(){return C(t.dom_element,t.dom_event).e_id}))},yu=function(){return[new on("custom_properties")]},vu=function(){return[new on("experiment_id").required(),new on("variant_id").required(),new on("content_id"),new on("experiment_source"),(new cn).substitute(yu())]},bu=function(){return[new on("eid").required(),new on("href"),new on("tcode"),new on("tms"),new on("ci"),new on("properties")]},mu=function(){return[new on("dom_element"),new on("dom_event"),new on("eid"),new on("properties")]},hu=function(t){return[new on("id").required(),new on("name").optional(),new on("creative_name").optional(),new on("creative_slot").optional(),(new cn).substitute(t)]},gu=function(){return new on("cart_type").optional()},_u=function(t){return[gu(),new on("currency"),new on("coupon"),(new un).map("items",[new on("id").required(),new on("quantity").required(),new on("name"),new on("brand"),new on("variant"),new on("coupon"),new on("price")]).extend([new on("full_product_name"),new on("cj_product_id"),new on("cj_product_price_usd"),new on("cj_product_quantity"),new on("item_tracking_code"),new on("product_category_id"),new on("category")].concat(t)).withMinElements(1)]},wu=function(){return[new on("transaction_id").required(),new on("activation_redirect"),new on("first_order"),new on("hashed_email"),new on("new_customer"),new on("order_discount_usd"),new on("order_total_new_usd"),new on("order_total_renewal_usd"),new on("order_from_website"),new on("page_type"),new on("order_region"),new on("original_currency"),new on("payment_pending"),new on("payment_processor"),(new cn).substitute(_u([new on("price").required(),new on("original_currency_subtotal")])).extend([new on("currency").required(),new on("value").required()])]},Ou=function(){return[new sn("new_vs_renewal").transform(pu)]},ju=function(){return[(new cn).substitute(_u([new on("price").optional()])).extend([new on("checkout_step").required(),new on("checkout_option").optional(),new on("eid_label").optional()])]},Su=function(){return[new on("el"),new on("currency"),new on("value"),(new cn).substitute([(new un).map("items",[new on("id").required(),new on("qt").required().transformKey("quantity"),new on("ca").transformKey("category"),new on("br").transformKey("brand"),new on("va").transformKey("variant"),new on("cc").transformKey("coupon"),new on("pr").transformKey("price")]).extend([new on("name"),new on("itc").transformKey("item_tracking_code")]).withMinElements(1)]),(new cn).substitute([(new un).map("pkgs",[new on("pkgid"),new on("pkgpr"),new on("pkgca"),new on("pkgqt")])]),(new cn).substitute(yu()),gu()]},Pu=function(){return[new on("experiment_id").required(),new on("callback").required(),new on("attributes"),(new cn).substitute(yu())]},Eu=function(){return{handler:ja,properties:[(new cn).substitute(vu())]}},ku=function(t){return{handler:Ca,properties:[(new cn).substitute(hu(t)),(new cn).substitute(yu())]}},xu=function(t){return{handler:Ca,properties:[(new un).map("impressions",hu(t)).transformKey("promotions").withMinElements(1),(new cn).substitute(yu())]}},Tu=function(t){return{handler:va,properties:[new on("type").required().transform(lu),(new cn).substitute(t).transform(du),new on("event_label"),(new cn).substitute(yu())]}},Cu=function(t){return{handler:Wa,properties:[(new cn).substitute(t).transform(du),(new cn).substitute(yu())]}},Iu=function(){return[new on("navigationStart").required(),new on("fetchStart"),new on("domainLookupStart"),new on("domainLookupEnd"),new on("connectStart"),new on("connectEnd"),new on("requestStart"),new on("responseStart"),new on("responseEnd"),new on("domLoading"),new on("domInteractive"),new on("domContentLoaded"),new on("domComplete"),new on("loadEventStart").required(),new on("loadEventEnd")]};const Lu={get_tracking_values:{v1:{handler:fc,properties:[new on("callback").required()]}},add_event:{v1:Tu(mu()),v2:Tu(bu())},add_impression:{v1:Cu(mu()),v2:Cu(bu())},add_generic_conversion:{v1:{handler:mc,properties:[(new cn).substitute([(new cn).map("properties",[new on("virtual_order_id").optional(),new on("app_name").optional(),new on("package_id").optional(),new on("package_category").optional()]),new on("area").required(),new on("product").required(),new on("revenue").required(),new on("action").required()]),(new cn).substitute(yu())]}},add_page_request:{v1:{handler:wi,properties:[new on("virtual_path"),(new cn).substitute(yu())]}},add_virtual_page_perf:{v1:{handler:ec,properties:[new on("virtual_path").required(),(new cn).map("timing_metrics",Iu()).required(),new on("perf_mark_name"),(new cn).substitute(yu())]},v2:{handler:ec,properties:[new on("type").required(),(new cn).map("timing",[(new cn).map("navigation",Iu()).required()]).required()]}},add_page_perf:{v1:{handler:ta,properties:[(new cn).substitute(yu())]}},set_consent:{v1:{handler:fu,properties:[new on("analyticsFlag").required(),new on("marketingFlag").required(),new on("supportFlag").required()]}},add_perf:{v1:{handler:ua,properties:[new on("type").required().transform(lu),new on("properties"),(new cn).substitute(yu())]}},get_variant_for_experiment:{v1:{handler:Sc,properties:Pu()},v2:{handler:Sc,properties:[(new cn).substitute(Pu()).extend([new on("traffic_type").required(),new on("configuration")])]}},add_experiment:{v1:{handler:ja,properties:[(new cn).substitute(vu()).extend([new on("experiment_type")])]}},add_experiment_assignment:[{type:"abn",v1:Eu()},{type:"mvt",v1:Eu()}],add_promotion:[{type:"click",v1:ku(mu()),v2:ku(bu())},{type:"impression",v1:xu(mu()),v2:xu(bu())}],add_ecomm_event:[{type:"add_to_cart",v1:{handler:Na,properties:[(new cn).substitute(Su())]}},{type:"remove_from_cart",v1:{handler:Na,properties:[(new cn).substitute(Su())]}},{type:"begin_checkout",v1:{handler:Na,properties:[(new cn).substitute(ju()),(new cn).substitute(yu())]}},{type:"checkout_progress",v1:{handler:Na,properties:[(new cn).substitute(ju()).extend([new on("payment_processor"),(new cn).substitute(yu())])]}},{type:"purchase",v1:{handler:Na,properties:[(new cn).substitute(wu()).extend(Ou()),(new cn).substitute(yu())]}},{type:"planned_purchase",v1:{handler:Na,properties:[(new cn).substitute(wu()).extend(Ou()),(new cn).substitute(yu())]}}]};var Ru=function(t){g()._expDataLayer.push({schema:"add_page_request",version:"v1",data:{virtual_path:t}})},Du=function(t,e,n,r,o){g()._expDataLayer.push({schema:"add_event",version:"v1",data:{type:t,eid:e,custom_properties:ci(n),dom_element:r,dom_event:o}})},Au=function(t,e){g()._expDataLayer.push({schema:"add_perf",version:"v1",data:{type:t,properties:e}})},qu=function(t){g()._expDataLayer.push({schema:"get_tracking_values",version:"v1",data:{callback:t}})},Bu=function(){g()._expDataLayer.push({schema:"add_page_perf",version:"v1"})},Fu=function(t,e,n){g()._expDataLayer.push({schema:"add_impression",version:"v1",data:{eid:t,properties:ci(e),dom_element:n}})},Mu=[/\blocation\.href\b/i,/\bwindow\.location\b/i,/\batlPCGoToUrl\b/i,/\bpcj_lnkx\b/i,/\bpcj_win\b/i],Nu=/^(#|(javascript|mailto|file|ftp):)/i,Uu=/^(https?:)?\/\//,Vu=function(t){return S((function(t){if(t.onclick)return t}),t)},Gu=function(t){if(t){var e=t.target||t.srcElement||t.currentTarget;return e&&e.nodeType&&3===e.nodeType&&(e=e.parentNode),e}},Ku=function(t){var e=T(t,{data:"data-track-click"});if(e.data)return JSON.parse(e.data)},Hu=function(t,e){return C(t,e)},zu=function(t){return T(t,{schema:"data-schema",id:"data-promo-id",name:"data-promo-name",creative_name:"data-creative-name",creative_slot:"data-creative-slot"})},Wu=function(t){if(t||(t=g().event),t){var e=Gu(t);if(!e)return!0;var n=Ku(e),r="e_id"in Hu(e,t),o="add_promotion"===zu(e).schema;if(!n&&!r&&!o)return!0;!function(t){if(t){var e=Vu(t);if(e&&e.onclick){var n=e.onclick,r=n.toString(),o=!1;if(r)for(var i=0;i<Mu.length&&!(o=Mu[i].test(r));i++);o&&(e.onclick=function(t,e){e&&e.run&&n()},t.interceptOnClick=!0,e.interceptOnClick=!0)}}}(e)}},$u=function(t){t&&(t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.preventDefault&&t.preventDefault())},Qu=function(t,e){var n=function(t){return S((function(t){var e=k(t,"href");if(x(t)&&e&&e.length>0){var n=k(t,"target");if(n&&"_self"!==n)return;if(!function(t){return t&&(Nu.test(t)||function(t){if(Uu.test(t))return!1;var e=Et("page","spa");return!!e&&new RegExp("^"+(!0===e?"/":e).replace("/","\\/")).test(t)}(t))}(e))return e}}),t)}(t);return!!n&&($u(e),e.metaKey||e.ctrlKey?g().open(n):setTimeout((function(){_().location.href=n}),Et("clickListener","navDelayMs")),!0)},Xu=function(t){try{if(t||(t=g().event),!t)return!0;var e=Gu(t);if(!e)return!0;if(!function(t,e){var n,r,o,i=Ku(t),a=Hu(t,e),c=zu(t),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(Ju()>=17&&e.hasOwnProperty("_reactRootContainer"))||t}(e.cancelBubble,e.currentTarget),s="e_id"in a,f="add_promotion"===c.schema;if(u&&(i||s||f)&&!function(t){return S((function(t){return"true"===k(t,"data-tcc-ignore")}),t)}(t))return i?(o=i,g()._signalsDataLayer.push({schema:"add_click",data:o})):f?(r=a,(n=c).eid=r.e_id,g()._expDataLayer.push({schema:n.schema,type:"click",version:"v2",data:p(r,{eid:r.eid,custom_properties:v(r.usrin,"^",",")},n)})):s&&function(t){g()._expDataLayer.push({schema:"add_event",version:"v2",data:{type:"click",eid:t.e_id,tcode:t.tcode,ci:t.ci,tms:t.tms,href:t.href,custom_properties:v(t.usrin,"^",",")}})}(a),!0}(e,t))return!0;var n=function(t){return!!t&&(void 0!==t.returnValue&&!1===t.returnValue||!0===t.defaultPrevented)}(t);return!n&&!Qu(e,t)&&!function(t,e){var n=Vu(t);if(n&&n.onclick){var r=n.onclick;return!(!r||!n.interceptOnClick||($u(e),setTimeout((function(){r(e,{run:!0})}),Et("clickListener","navDelayMs")),0))}}(e,t)}catch(t){A(t)}return!0};function Ju(){try{return g().React.version.split(".")[0]}catch(t){}}var Yu=function(t,e){g()[e]("load",(function(){var n=Ju();if(n&&n>16)for(var r=_().body.getElementsByTagName("*"),o=0;o<r.length;o++){var i=r[o];i.hasOwnProperty("_reactRootContainer")&&i[e](t,Xu.bind(this))}}))},Zu=!1;function ts(t){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(t)}function es(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ns(r.key),r)}}function ns(t){var e=function(t){if("object"!=ts(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ts(e)?e:e+""}var rs,os,is,as,cs,us,ss=function(){return t=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.host=e,this.accountId=n,this.dataLayerName=r,this.dataLogName=o,this._dataLayerLog=[],this.dataLayer=g()[this._gtagDataVariable]||[]},e=[{key:"init",value:function(){return this.loadGtag(),N(this.dataLayerName,this.dataLayer),M(this.dataLogName,this._dataLayerLog),this.push("js",new Date),this}},{key:"push",value:function(){Q(F(this.dataLogName),arguments),this.dataLayer.push(arguments)}},{key:"loadGtag",value:function(){_t("".concat(this.host,"/gtag/js?id=").concat(this.accountId,"&l=").concat(this.dataLayerName))}},{key:"setGtagProps",value:function(t){if(t)return t.transport_type="beacon",t.send_to=this.accountId,t}}],e&&es(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),fs=[],ls=!1,ps="sGtm",ds="_sGtmDataSendLog",ys=function(){var t=Et("sGtm","host");return t&&"undefined"!==t?"https://".concat(t):Lt("g.sst")},vs=function(t,e){var n=e.isFlushing,r=rc(os);t.data.forEach((function(t){t.webContext=r})),Pt("".concat(ys(),"/csp/collect"),"POST",ds,{payload:t,credentials:"include",sendAsBeacon:n})},bs=function(t){var e=t.events,n=t.schemaId,r=t.global,o=t.businessContext,i=t.webContext,a=void 0===i?{}:i,c=t.routing,u=void 0===c?{}:c,s=[],f=u.globalContextVersion,l=u.hasConversion,d=u.targets;e.forEach((function(t){s.push(p(t,{webContext:a},{routing:{targets:d}}))})),rs.pushEvent({contextVersion:f,events:s,schemaId:n,global:r,businessContext:o},l)},ms=function(){nc()&&rc(os)?(Nc(fs).forEach((function(t){bs(t)})),ls=!0):setTimeout(ms,75)},hs=function(t){!function(t){os=Et("sGtm","account");var e=ys();is=new ss(e,os,"_sGtmDataLayer",ds).init(),Fc("default",is.push.bind(is)),is.push("config","".concat(os),{send_page_view:!1,anonymize_ip:!0,transport_url:e,first_party_collection:!0,groups:ps}),M(ds,[]),rs=new Mt(vs,10);var n={transport_url:e,send_to:"".concat(os),groups:ps};Dn.getSession().pageCount<=1&&is.push("event","gd_session_start",n),t&&is.push("event","consent_changed",n)}(t),g()._signalsDataLayer=g()._signalsDataLayer||[],g()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-sgtm",batch:!0,fields:["webContext","routing"],callback:function(t){var e=t.schemaId,n=t.global;!function(t){var e=xc(t.events);if(0!==e.length){as||(as=(new Date).getTime()-1);var n=(new Date).getTime(),r=p(t,{events:e,webContext:p(t.webContext,{pageTitle:_().title},{engagementTimeDelta:n-as})});as=n,ls?bs(r):fs.push(r)}}({businessContext:t.businessContext,schemaId:e,global:n,events:t.events,webContext:t.webContext,routing:t.routing})},schemaIds:Pc}}),ms()},gs=function(t){return!!t||void 0},_s=function(t){return function(e){var n=e.eid;return gs(n&&!!n.match(t))}},ws=function(t){var e=g().ux;if(e&&e.data)return e.data[t]},Os=function(t){return function(e){return e.event.data.traffic.customProperties[t]}},js={visitguid:{cd_scope:{1:"hit",2:"session"},fn:function(t){return t.global.context.sessionId}},visitorguid:{cd_scope:{3:"hit",4:"session",5:"user_scoped"},fn:function(t){return t.global.context.visitorId}},shopper_id:{cd_scope:{6:"hit",7:"session",8:"user_scoped"},fn:function(t){return t.webContext.hashedShopperId}},logged_in_status:{cd_scope:{15:"hit"},fn:function(t){var e=t.global.context,n=e.customerId,r=e.employeeId;return void 0!==(n||r)}},logged_in_status_defined:{cd_scope:{16:"session"},fn:function(t){var e=t.global.context,n=e.customerId,r=e.employeeId;return gs(void 0!==(n||r))}},customer_agent_id:{cd_scope:{17:"hit",18:"session",19:"user_scoped"},fn:function(t){return t.global.context.employeeId}},customer_agent_bool:{cd_scope:{20:"hit"},fn:function(t){return void 0!==t.global.context.employeeId}},customer_agent_bool_defined:{cd_scope:{21:"session"},fn:function(t){var e=t.global.context.employeeId;return gs(e)}},delegated_bool:{cd_scope:{22:"hit"},fn:function(t){return t.global.context.isDelegated}},delegated_bool_defined:{cd_scope:{23:"session"},fn:function(t){var e=t.global.context.isDelegated;return gs(e)}},market:{cd_scope:{24:"hit",25:"session"},fn:function(t){return t.global.site.market}},referrer:{cd_scope:{26:"hit"},fn:function(t){return t.global.page.referrer}},isc:{cd_scope:{27:"hit",28:"session"},fn:function(t){var e=t.queryString;return Ct("isc",!1,e)}},user_agent:{cd_scope:{30:"hit",31:"session"},fn:function(t){return t.global.client.userAgent}},querystring:{cd_scope:{32:"hit"},fn:function(t){var e=t.queryString;return decodeURIComponent(It(e))}},privatelabelid:{cd_scope:{33:"hit",34:"session"},fn:function(t){return t.global.site.privateLabelId}},ci_code:{cd_scope:{40:"hit",41:"session"},fn:function(t){var e=t.queryString;return Ct("ci",!1,e)}},content_meta_tagging_values:{cd_scope:{43:""},fn:function(){return Yt.get("tcc.contentMetaTaggingValues")}},timestamp:{cd_scope:{44:"hit"},fn:function(t){return t.event.data.eventCreationTimestamp}},eid_experimentation_exp_id:{cd_scope:{47:"hit",48:"session"},fn:function(t){return t.event.data.experimentId}},eid_experimentation_variant_id:{cd_scope:{45:"hit",46:"session"},fn:function(t){return t.event.data.variantId}},eid_sitecore_block_id:{cd_scope:{50:"hit"},fn:Os("block_id")},eid_sitecore_module_id:{cd_scope:{51:"hit"},fn:Os("module_id")},location_uri:{cd_scope:{52:"hit"},fn:function(t){var e=t.queryString;return t.global.page.path+e}},google_client_id:{cd_scope:{53:"hit",54:"session",55:"user_scoped"},fn:function(t){var e=t.global.context.googleClientId;return void 0===e?"Not Available":e}},uxcore_app:{cd_scope:{56:"hit"},fn:function(){return ws("app")}},uxcore_appname:{cd_scope:{57:"hit"},fn:function(){return ws("appName")}},uxcore_manifest_name:{cd_scope:{58:"hit"},fn:function(){return ws("manifest")}},uxcore_manifest_version:{cd_scope:{59:"hit"},fn:function(){return ws("manifestVersion")}},is_gd_salessite_bool:{cd_scope:{62:"hit"},fn:function(t){return t.webContext.salesSiteFlag}},is_gd_salessite_bool_defined:{cd_scope:{63:"session"},fn:function(t){var e=t.webContext.salesSiteFlag;return gs(e)}},item_tracking_code:{cd_scope:{64:"product"}},purchase_payment_pending_bool:{cd_scope:{65:"hit"},fn:function(t){return t.event.data.payment.pendingFlag.toString()}},purchase_discount_applied_usd:{cd_scope:{66:"hit"},cm_scope:{3:""},fn:function(t){return t.event.data.order.discountUsd}},purchase_payment_processor:{cd_scope:{67:"hit"},fn:function(t){return t.event.data.payment.processor}},purchase_is_first_order:{cd_scope:{68:"hit",69:"session"},fn:function(t){return t.event.data.order.firstOrderFlag.toString()}},purchase_is_new_customer:{cd_scope:{70:"hit",71:"session"},fn:function(t){return t.event.data.order.newCustomerFlag.toString()}},purchase_is_activation_redirect:{cd_scope:{72:"hit"},fn:function(t){return t.event.data.cart.activationRedirectFlag.toString()}},content_meta_tagging_article_published_time:{cd_scope:{84:"hit"},fn:function(){return Yt.get("tcc.contentMetaTaggingArticlePublishedTime")}},gocentral_optimizely_experiment:{cd_scope:{85:"session"}},correlation_id:{cd_scope:{87:"hit"},fn:function(t){return t.webContext.pageCorrelationId}},federation_partner_id:{cd_scope:{89:"user"},fn:function(t){return t.global.site.federationPartnerId}},traffic_load_source:{cd_scope:{91:"hit"},fn:function(t){return t.event.data.traffic.pageLevelProperties.loadSource}},purchase_new_vs_renewal:{cd_scope:{92:""},fn:function(t){return t.event.data.order.newVsRenewal}},page_id:{cd_scope:{93:"hit"},fn:function(t){return t.global.page.id}},traffic_tcc_version:{cd_scope:{94:"hit"},fn:function(t){return t.global.client.sdk.version}},package_ids:{cd_scope:{95:"hit"},fn:function(t){return t.event.data.packages.map((function(t){return t.id})).join(",")}},native_mobile_app_bool:{cd_scope:{96:"session"},fn:function(t){return void 0!==t.global.mobile.deviceId}},native_mobile_appname:{cd_scope:{97:"session"},fn:function(t){return t.global.mobile.applicationName}},hit_id:{cd_scope:{98:"hit"},fn:function(t){return t.event.data.producerEventId}},realm:{cd_scope:{99:"hit",100:"session"},fn:function(t){return t.event.data.traffic.identityRealm}},existing_shopper:{cd_scope:{102:"user_scoped",107:"session"},value:"0"},eid_experimentation_content_id:{cd_scope:{103:"hit",104:"session"},fn:function(t){return t.webContext.contentId}},eid_experimentation_source_id:{cd_scope:{105:"hit",106:"session"},fn:function(t){return t.event.data.experimentSource}},add_to_cart_domain_extension:{cd_scope:{108:"hit"},fn:function(t){var e=t.event;if(t.eid.match("^find.sales.domain_.*.buy.click$"))return e.data.traffic.customProperties.extension}},eid_experimentation_qualtrics_survey_id_hit:{cd_scope:{109:"hit"},fn:function(){return Mn("Qint_id")}},purchase_transaction_id:{cd_scope:{112:"hit"},fn:function(t){return t.event.data.order.transactionId}},customer_id:{cd_scope:{116:"hit",117:"session",118:"user_scoped"},fn:function(t){return t.global.context.customerId}},parent_customer_id:{cd_scope:{119:"hit",120:"session",121:"user_scoped"},fn:function(t){return t.global.context.parent.customerId}},payment_reason_response_code:{cd_scope:{122:""},fn:function(t){return t.event.data.payment.reasonResponseCode}},payment_billing_country:{cd_scope:{123:""},fn:function(t){return t.event.data.payment.billingCountry}},purchase_cart_type:{cd_scope:{124:""},fn:function(t){return t.event.data.cart.type}},payment_error_code:{cd_scope:{125:""},fn:function(t){return t.event.data.payment.errorCode}},itc:{cd_scope:{127:"hit"},fn:Os("item_tracking_code")},cart_edit_bool:{cd_scope:{128:""},fn:function(t){return t.event.data.cart.editFlag}},cart_edit_pfid_before:{cd_scope:{129:""},fn:function(t){return t.event.data.cart.beforePfid}},cart_edit_pfid_after:{cd_scope:{130:""},fn:function(t){return t.event.data.cart.afterPfid}},cart_edit_qty_before:{cd_scope:{131:""},fn:function(t){return t.event.data.cart.beforeQuantity}},cart_edit_qty_after:{cd_scope:{132:""},fn:function(t){return t.event.data.cart.afterQuantity}},consent_status:{cd_scope:{133:"hit"},fn:function(){return Rn.get("consentModeStatus")}},sitesearch_term:{cd_scope:{134:"hit"},fn:Os("sitesearch_term")},sitesearch_results:{cd_scope:{135:"hit"},fn:Os("sitesearch_results")},plp_category_selected:{cd_scope:{136:"hit"},fn:Os("plp_category_selected")},plp_tags_selected:{cd_scope:{137:"hit"},fn:Os("plp_tags_selected")},plp_business_selected:{cd_scope:{138:"hit"},fn:Os("plp_business_selected")},plp_order:{cd_scope:{139:"hit"},fn:Os("plp_order")},sitesearch_urls:{cd_scope:{140:"hit"},fn:Os("sitesearch_urls")},sitesearch_tab:{cd_scope:{141:"hit"},fn:Os("sitesearch_tab")},sitesearch_category:{cd_scope:{142:"hit"},fn:Os("sitesearch_category")},search_suggestions:{cd_scope:{143:"hit"},fn:Os("search_suggestions")},autocomplete:{cd_scope:{144:"hit"},fn:Os("autocomplete")},popular_terms:{cd_scope:{145:"hit"},fn:Os("popular_terms")},trace_id:{cd_scope:{146:"hit"},fn:function(t){return t.global.traceId}},eid_fos_impressions:{cm_scope:{1:""},fn:function(t){var e=t.event,n=t.eid;return e.schemaId===Cr&&n&&!!n.match("^gce.sales./..*")||void 0}},eid_fos_clicks:{cm_scope:{2:""},fn:function(t){var e=t.event,n=t.eid;return e.schemaId===Tr&&n&&!!n.match("^gce.sales./..*")||void 0}},uxp_impression:{cm_scope:{4:"hit"},fn:_s("^uxp.hyd.int.salesheader.sales.impression$")},uxp_product_nav_click:{cm_scope:{5:"hit"},fn:_s("^uxp.hyd.product_nav..*.click$")},uxp_sales_header_click:{cm_scope:{6:"hit"},fn:_s("^uxp.hyd.sales_header..*.click$")},uxp_shared_click:{cm_scope:{7:"hit"},fn:_s("^uxp.hyd.shared..*.click$")},uxp_sales_footer_click:{cm_scope:{8:"hit"},fn:_s("^uxp.hyd.sales_footer..*.click$")},content_group1:{fn:function(t){return t.global.page.contentGroup}},coupon:{fn:function(t){var e=t.event.data.basket.couponCode;if("???"!==e)return e}}},Ss=function(t,e){if(void 0!==t.value)return t.value;var n;if(t.fn)try{n=t.fn(e)}catch(t){}return function(t){return!0===t?"1":!1===t?"0":""!==t?t:void 0}(n)},Ps=function(t){var e={};return l(js,(function(n,r){!0===t&&void 0===r.cd_scope&&void 0===r.cm_scope||(!1!==t||void 0===r.cd_scope&&void 0===r.cm_scope)&&(e[n]=r)})),e},Es=function(t,e){var n={},r=Ps(!0);return l(r,(function(r,o){for(var i=["cd_scope","cm_scope"],a=0;a<i.length;a++)if(o.hasOwnProperty(i[a])){var c="dimension",u=o.cd_scope;"cm_scope"===i[a]&&(u=o.cm_scope,c="metric");var s=Object.keys(u),f=void 0;t&&(f=Ss(o,e));for(var l=0;l<s.length;l++){var p=s[l],d=r;if(u&&u.hasOwnProperty(p)){var y=u[p];y&&(d+="_".concat(y))}t?n[d]=f:n[c+p]=d}}})),n},ks=function(){return Es(!1)},xs="click",Ts="impression",Cs=function(t,e){var n=e.data,r=n.traffic.eid,o=n.element,i=void 0===o?{}:o,a=i.area,c=i.product,u=i.section,s=i.widget;return null!=r?r:"".concat(a,".").concat(c,".").concat(u,".").concat(s,".").concat(t)},Is=function(t){var e=t.data,n=e.element,r=e.traffic.eid;return n?n.action:r.split(".").pop()},Ls=function(t){switch(t.schemaId){case Nr:case Ur:return"pageperf";case Lr:return t.data.traffic.eventCategory;case Vr:return"genConv";case Br:case Dr:case qr:case Fr:case Ar:return"ecommerce";case Mr:return"experiment";case Ir:return Is(t);case Tr:return xs;case Cr:return Ts}},Rs=["impression","experiment","load","apicall","split-test","redux","change","custom","impress","blur","view","applog","show","success","perf","loaded","clicktaleu","notify","clicktale","consent","timing"],Ds=function(t,e){var n,r=e.path,o=e.virtualPath;return t&&-1!==t.indexOf("utm_content=")&&(n=It(t)),o||(n?r+n:void 0)},As=function(t){var e=t.data.promotion;return{id:e.id,name:e.name,creative_slot:e.position,creative_name:e.creative}},qs=function(t,e){var n=e.data.products;return(void 0===n?[]:n).map((function(e,n){return p({id:e.productId,coupon:e.couponCode,name:e.productName,quantity:e.quantity,price:e.priceUsd,item_tracking_code_product:e.itemTrackingCode},t.products?{category:t.products[n].category,brand:t.products[n].brand,variant:t.products[n].variant}:{})}))},Bs=function(t,e,n,r){var o,i,a,c,u,s,f=function(t){var e,n;switch(t.schemaId){case Br:return function(t,e,n){var r=n.newCustomerFlag,o=n.newVsRenewal;t=t||"modular-cart";var i=e?"payment-pending_":"payment-processed_";return"ecomm.payments.transaction.".concat(r?"new-customer_":"existing-customer_").concat(i).concat(o,".").concat(t,".success")}(null===(e=t.data.cart)||void 0===e?void 0:e.type,null===(n=t.data.payment)||void 0===n?void 0:n.pendingFlag,t.data.order);case Dr:return"gpd.exp.tcc.add-to-cart.success";case qr:return"gpd.exp.tcc.remove-from-cart.success";case Ar:return 1===t.data.checkout.step?"gpd.exp.tcc.begin-checkout.success":"gpd.exp.tcc.checkout-progress.success";case Fr:return"gpd.exp.tcc.planned-purchase.success";case Mr:return"traffic.tcc.instrumentation.experiment.add_experiment";case Vr:return"".concat("tcc.conversion.").concat(t.data.conversion.area,".").concat(t.data.conversion.product,".").concat(t.data.conversion.revenue,".").concat(t.data.conversion.action);case Lr:return t.data.traffic.eid;case Ir:return Cs(Is(t),t);case Tr:return Cs(xs,t);case Cr:return Cs(Ts,t);case Nr:case Ur:return ea}}(e),d="?".concat(t.page.location.split("?").slice(1).join("?")),y=new et((u=Es(!0,c={global:t,webContext:n,event:e,eid:f,queryString:d}),s=function(t){var e={},n=Ps(!1);return l(n,(function(n,r){e[n]=Ss(r,t)})),e}(c),p(u,s)));if(e.schemaId===Rr)y.merge({custom_map:ks(),send_page_view:!0,anonymize_ip:!0,page_path:xt(Ds(d,t.page))}),i="page_view";else if(Kr.includes(e.schemaId)){var v,b;y.merge({items:qs(n,e),currency:null===(v=e.data.basket)||void 0===v?void 0:v.currencyCode,value:(null===(b=e.data.order)||void 0===b?void 0:b.valueUsd)||n.valueUsd}),e.schemaId===Br&&y.set("transaction_id",e.data.order.transactionId),i=a=function(t){switch(t.schemaId){case Br:return"purchase";case Dr:return"add_to_cart";case qr:return"remove_from_cart";case Ar:return 1===t.data.checkout.step?"begin_checkout":"checkout_progress";case Fr:return"planned_purchase"}}(e)}else(function(t){var e=t.schemaId,n=t.data;switch(e){case Lr:return Rs.includes(n.traffic.eventCategory.substring(0,10));case Ir:return Rs.includes(n.element?n.element.action:n.traffic.eid.split(".").pop());case Vr:case Rr:case Ur:case Nr:case Cr:case Mr:return!0}})(e)&&y.set("non_interaction",!0),e.schemaId===Tr&&e.data.promotion?(y.set("promotions",[As(e)]),i="select_content",f="traffic.tcc.instrumentation.internal_promotion.click",a="internal_promotion_click"):e.schemaId===Cr&&r?(y.set("promotions",r),i="view_promotion",f="traffic.tcc.instrumentation.internal_promotion.impression",a="internal_promotion_impression"):i=f;return y.merge({event_category:null!==(o=a)&&void 0!==o?o:Ls(e),event_label:e.schemaId===Mr?e.data.experimentId:n.eventLabel,event_action:f}),{eventAction:i,properties:y.getProperties()}};function Fs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ms,Ns,Us,Vs,Gs,Ks,Hs=[],zs=20,Ws=function(){return Ms||(Ms=new ss("https://www.googletagmanager.com",Et("ga","account"),"_analyticsDataLayer","_analyticsDataSendLog")),Ms},$s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Hs.push(e)},Qs=function(t){return void 0!==t&&"set"!==t[0]},Xs=function(){if(Hs.length>0&&(zs>0||!Qs(Hs[0])))try{var t,e=Hs.shift();(t=Ws()).push.apply(t,function(t){if(Array.isArray(t))return Fs(t)}(n=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return Fs(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Qs(e)&&(zs-=1),0===zs&&setTimeout((function(){zs+=2}),1e3)}catch(t){}var n},Js=function(t,e){var n,r=e.eventAction,o=e.properties;n=t.hashedUserId,us!==n&&(us=n,$s("set","user_id",n)),Ws().setGtagProps(o,cs),$s("event",r,o)},Ys=function(t){var e,n,r=t.global,o=t.events,i=t.webContext,a=o.filter((function(t){return t.schemaId===Cr&&t.data.promotion}));a.length>0&&Js(i,Bs(r,a[0],i,a.map(As))),xc((e=o,n=a,e&&n?e.filter((function(t){return!n.includes(t)})):e)).forEach((function(t){Js(i,Bs(r,t,i))}))},Zs=function(){var t,e=Dc(),n=Et("wGtm","enabled")&&Mc(Et("wGtm","whitelist")),r=Et("sGtm","enabled")&&Mc(Et("sGtm","whitelist")),o=(Dc()||Rc()||Ac())&&(r||n);if(e||o){if(vr.updateContext(),e&&(cs=Et("ga","account"),Ws().init(),(t={send_page_view:!1,anonymize_ip:!0,page_referrer:_().referrer}).custom_map=ks(),Ws().push("config",cs,t),setInterval(Xs,100),g()._signalsDataLayer=g()._signalsDataLayer||[],g()._signalsDataLayer.push({schema:"subscribe",data:{name:"scc-plugin-sink-ga",batch:!0,callback:Ys,schemaIds:Pc,fields:["webContext"]}})),o){var i=!1===Ns;n&&function(t){t?(Zc(),tu()):eu(!0)}(i),r&&hs(i)}}else n&&void 0===Ns&&eu(!1),Ns=!1,setTimeout(Zs,Et("consent","delayMs"))},tf={},ef=["idp","jomax"],nf={idp:"info_shopperId",jomax:"info_accountName"},rf=function(t){return Object.keys(t).length<1},of=function(t){var e={},n=Mn("info_"+t);if(n)try{e=JSON.parse(n)}catch(t){}return e},af=function(){return!rf(tf)},cf=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.del){if(t.del.typ===e||t.del.del)return n=!1,cf(t.del,e,n);if(e===t.typ&&!n)return t[t.auth]}if(e===t.typ&&!n)return t},uf=function(t,e){return t?e?(r=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},o=function(t,e){return t>>>e|t<<32-e},i=function(t,e){return t>>>e},a=function(t,e,n){return t&e^~t&n},c=function(t,e,n){return t&e^t&n^e&n},u=function(t){return o(t,2)^o(t,13)^o(t,22)},s=function(t){return o(t,6)^o(t,11)^o(t,25)},f=function(t){return o(t,7)^o(t,18)^i(t,3)},function(t){for(var e="0123456789abcdef",n="",r=0;r<4*t.length;r++)n+=e.charAt(t[r>>2]>>8*(3-r%4)+4&15)+e.charAt(t[r>>2]>>8*(3-r%4)&15);return n}(function(t,e){var n,l,p,d,y,v,b,m,h,g,_,w,O,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],S=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],P=new Array(64);for(t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e,h=0;h<t.length;h+=16){for(n=S[0],l=S[1],p=S[2],d=S[3],y=S[4],v=S[5],b=S[6],m=S[7],g=0;g<64;g++)P[g]=g<16?t[g+h]:r(r(r((O=P[g-2],o(O,17)^o(O,19)^i(O,10)),P[g-7]),f(P[g-15])),P[g-16]),_=r(r(r(r(m,s(y)),a(y,v,b)),j[g]),P[g]),w=r(u(n),c(n,l,p)),m=b,b=v,v=y,y=r(d,_),d=p,p=l,l=n,n=r(_,w);S[0]=r(n,S[0]),S[1]=r(l,S[1]),S[2]=r(p,S[2]),S[3]=r(d,S[3]),S[4]=r(y,S[4]),S[5]=r(v,S[5]),S[6]=r(b,S[6]),S[7]=r(m,S[7])}return S}(function(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}(n=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e}(n=e)),8*n.length))):void 0:e;var n,r,o,i,a,c,u,s,f},sf=function(t,e,n){if(af()&&"basic"!==tf.auth){var r=cf(tf,n);if(r)return uf(e,r[t])}},ff=function(t){return sf(nf.jomax,t,"jomax")},lf=function(t,e,n){var r=t.typ;if(void 0===n||!r||r===n){var o,i=t.auth;if(i&&"basic"!==i){var a=t[i];o=lf(a,e,n)}else o=t[e];return o}},pf=function(t,e){if(af())return uf(e,lf(tf,t))},df=function(t){if(af()&&"idp"===tf.typ)return uf(t,lf(tf,"info_shopperId"))},yf=function(t){if(af())return lf(tf,t)},vf={"context.visitorId":function(t){return t.session.visitorGuid},"context.sessionId":function(t){return t.session.visitGuid},"context.customerId":function(){return lf(tf,"info_cid")},"context.identityId":function(){return yf("info_identity")},"context.googleClientId":function(){return nc()},"context.fullStorySessionId":function(){return function(){try{return function(){var t=g().FS;if(t)return t.getCurrentSession()}()||function(){var t=Mn("fs_uid");if(t){var e=t.split("#")[2];return e&&e.split(":").slice(0,2).join(":")}}()}catch(t){}}()},"context.isDelegated":function(t){return t.delegated},"context.parent.customerId":function(t){return t.delegated?sf("info_cid",undefined,"idp"):void 0},"context.parent.agentId":function(t){return t.delegated?ff(!0):void 0},"context.employeeId":function(){return function(t){if(af()){var e=tf.typ,n=tf.auth,r=nf.jomax;if(n&&"basic"!==n&&"e"===n.charAt(0))return ff(t);if(e&&"jomax"===e)return uf(t,tf[r]);var o=of("jomax");if(!rf(o))return uf(t,o[r])}}(!0)},"attribution.isc":function(){return function(){if(Bn)return Bn;for(var t=0;t<Vn.length;t++){var e=Vn[t]();if(e){Bn=e.replace("|","");break}}return Bn}()},"mobile.applicationName":function(){return Ct("native_app_name",!0)},"mobile.applicationVersion":function(){return Ct("native_app_version",!0)},"mobile.deviceId":function(){return Ct("mdeviceid",!0)},"consent.analyticsFlag":function(){return Dc()},"consent.marketingFlag":function(){return Rc()},"consent.supportFlag":function(){return Ac()},"page.sessionPageViewCount":function(t){return t.session.pageCount},"site.federationPartnerId":function(){return function(){if(af()){var t=lf(tf,"fpid");if(!t){var e=tf.typ;void 0!==e&&(t=Mn("brand_".concat(e)))}return t}}()},"site.market":function(){return Mn("market")}},bf={delegated:function(){return function(){if(!af())return!1;var t=tf.auth;return t&&"basic"!==t}()},session:function(){return Dn.getSession()}},mf=["www","ca","uk","sg","au","in","mx","ph","br","my","hk","tr","tw","co","pe","pk","es","vn","nz","ar","za","id","th","ie","ru","fr","it","cl","de","nl","ve","kr","jp","pt","ua","ch","be","se","gr","dk","fi","pl","no","at","cart","ae","il","auctions","account","myh","websites","ar-ae","lite","asia","host"],hf={salesSiteFlag:function(){if(void 0===Us){Us=!1;var t=O();if(-1===t.indexOf("godaddy.com"))return Us;var e=t.split(".");if(e.length>=2)if(2===e.length)Us=!0;else for(var n=e.slice(0,e.length-2),r=0;r<n.length;r++){var o=n[r];if(mf.indexOf(o)>-1){Us=!0;break}}}return Us},pageCorrelationId:function(){return Rn.get("corrid")},shopperId:function(){return df(!1)},hashedShopperId:function(){return df(!0)},hashedUserId:function(){return function(){if(af()){var t=tf.typ;return uf(!0,lf(tf,nf[t]))}}()},userRealm:function(){if(af())return tf.typ},universalContactId:function(){return yf("ucid")},loggedInFlag:af,tealiumAppName:function(){return(g().utag_data||{}).app_name},hashedFirstName:function(){return pf("firstname",!0)},hashedLastName:function(){return pf("lastname",!0)}},gf=[function(){return(t=g().ux,e=(void 0===t?{}:t).data,void 0===e?{}:e).privateLabelId;var t,e},function(){return de().privatelabelid},function(){return yf("plid")}],_f="tcc";return Ae(Lu),Vs=new Wi,Dn=Vs,Gs=gf,or.push.apply(or,function(t){if(Array.isArray(t))return nr(t)}(Ks=Gs)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(Ks)||function(t,e){if(t){if("string"==typeof t)return nr(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nr(t,e):void 0}}(Ks)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),function(t){var e=t.legacyName,n=t.configManagerProps,r=t.hooks.beforeInit;!function(){try{var o,i=_().cookie;Object.defineProperty(document,"cookie",{get:function(){return i},set:function(t){(o=o||Object.getOwnPropertyDescriptor(Document.prototype,"cookie")).set.call(document,t),i=o.get.call(document)},configurable:!0,enumerable:!0}),function(){if(a=w().userAgent.toLowerCase(),!/msie [1-8]\./.test(a))if(i="_".concat(e,"Internal"),f=i,void 0!==g()[f]||(g()[f]={},0))A("SCC Library has already been loaded on page");else if(function(t){var e=t.dataLayerName,n=t.clientConfigPrefixes,r=t.ignoredProperties,o=t.legacyName;Zt=o,ae=r||[],ee=e,ie=n,te=g()[ee]||[],N(ee,te),M("".concat(ee,"Log"),ce),pe()}(n),r&&r(),"off"!==Yt.get("".concat(e,".status"))){var o=_();"prerender"!==o.visibilityState?Bi(t):o.addEventListener("visibilitychange",(function(){"prerender"!==o.visibilityState&&"unloaded"!==o.visibilityState&&Bi(t)}))}var i,a}()}finally{delete _().cookie}}()}({legacyName:_f,trfqMethods:n,configManagerProps:{legacyName:_f,dataLayerName:"_gaDataLayer",clientConfigPrefixes:[_f,"gtm"],ignoredProperties:["shopperid","marketid","currency"]},dataLayerConfig:{pageViewSchema:"add_page_request",immediateSchemas:["add_page_request","get_tracking_values","add_ecomm_event"]},globalContextConfig:{contextFnMap:vf,paramsFnMap:bf},hooks:{beforeInit:function(){!function(){if(!Mn("_policy")){var t=Mn("market"),e=!t||Tc.indexOf(t)>-1,n="none";!t||Cc.indexOf(t)>-1?n="explicit":Ic.indexOf(t)>-1&&(n="implicit");var r={restricted_market:e,tracking_market:n};Fn("_policy",JSON.stringify(r),525600,"/")}}()},beforeLoad:function(){var t;hr.init({contextFnMap:hf}),g()._tccTrackingValues=mr.properties,!t&&Zu||(function(){if(Et("clickListener","enabled")&&!g().tccListenerDisabled){var t=_().getElementsByTagName("html");if(t)for(var e=g().attachEvent,n=w()&&w().userAgent&&null!=w().userAgent.match(/iPad/i),r=0,o=t.length;r<o;r++){var i=t[r];i&&i.attributes&&i.attributes["data-tcc-ignore"]||(g().addEventListener?n?(i.addEventListener("touchstart",Xu,!1),Yu("touchstart","addEventListener"),i.addEventListener("touchend",Wu,!1)):(i.addEventListener("click",Xu,!1),Yu("click","addEventListener"),i.addEventListener("mousedown",Wu,!1)):e&&(i.attachEvent("onclick",Xu),Yu("onclick","attachEvent"),i.attachEvent("mousedown",Wu)))}}}(),Zu=!0)},onLoad:function(){"pass"!==ne("identity","realm")&&Zs(),ne("webVitals","enabled")&&_t(Et("webVitals","url"),!0,(function(){g().scc.plugins.webVitals.calculate()})),function(){var t=Ct("orderId");if(t)try{var e=Mn("pd".concat(t));if(e){var n=JSON.parse(decodeURIComponent(e));n&&n.orderData&&(g()._expDataLayer=g()._expDataLayer||[],g()._expDataLayer.push(n.orderData))}}catch(t){}}()},beforeEvent:function(){!function(){for(var t={},e=0;e<ef.length;e++){var n=of(ef[e]);!rf(n)&&(rf(t)||t.iat<n.iat)&&(t=n)}tf=t}()}}}),{}})()));