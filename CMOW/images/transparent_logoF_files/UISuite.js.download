window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag.taglets.lpAnimate={_V:"1.2",name:"lpAnimate",elements:{},queue:{},conf:{interval:13,duration:500,easing:"swing"},init:function(t){if(t)for(var e=0;e<t.length;e++)this.conf[t[e].id]=t[e].value},_supported:{opacity:(()=>{var t=document.createElement("div");return t.style.cssText="opacity:.1",/^0.1/.test(t.style.opacity)})()},_regExp:{alphaFilter:new RegExp("alpha\\([^)]*\\)","i"),opacityInAlphaFilter:new RegExp("opacity=([^)]*)")},_cssPropHooks:{opacity:{get:function(t){return this._supported.opacity?parseFloat(t.style.opacity):this._regExp.opacityInAlphaFilter.test(t.style.filter)?.01*parseFloat(RegExp.$1):null},set:function(t,e){var n;this._supported.opacity?t.style.opacity=e:(n=t.style.filter||"",e="alpha(opacity="+100*e+")",n=this._regExp.alphaFilter.test(n)?n.replace(this._regExp.alphaFilter,e):n+" "+e,t.style.filter=n)}}},_cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0,color:!0},_easing:{linear:function(t,e,n,i,o){return n+i*t},swing:function(t,e,n,i,o){return(-Math.cos(t*Math.PI)/2+.5)*i+n},easeInQuart:function(t,e,n,i,o){return i*(e/=o)*e*e*e+n},easeOutQuart:function(t,e,n,i,o){return-i*((e=e/o-1)*e*e*e-1)+n},easeOutBack:function(t,e,n,i,o,a){return i*((e=e/o-1)*e*(((a=void 0===a?1.70158:a)+1)*e+a)+1)+n},easeInBack:function(t,e,n,i,o,a){return i*(e/=o)*e*(((a=void 0===a?1.70158:a)+1)*e-a)+n}},animate:function(t,e,n){var i;void 0!==t&&void 0!==e&&t&&""!==t.id&&(void 0===this.elements[t.id]?(void 0===e.length&&(e=[e]),i=t.id,this.elements[i]={id:i,domElement:t,props:e,options:{duration:((n="number"==typeof n?{duration:n}:n)&&n.duration?n:this.conf).duration,easing:(n&&n.easing?n:this.conf).easing,callback:n&&"function"==typeof n.callback?n.callback:null,context:n.context||window}},this._doAnimate(i)):this._addToQueue(t.id,{domElement:t,props:e,options:n}))},stop:function(t){var e=this.elements[t];void 0!==e&&(null!=e.timeout&&clearTimeout(e.timeout),e.timeout=null,delete this.elements[t]),this._removeFromQueue(t)},isNumeric:function(t){return void 0!==lpTag.taglets.utils&&lpTag.taglets.utils.isNumeric(t)},_doAnimate:function(t){var e=this.elements[t];e.startTime=(new Date).getTime(),e.relTime=e.relPos=0,e.timeout=null;for(var n=0;n<e.props.length;n++){var i=e.props[n];i.start=this._getCurrentVal(e.domElement,i.name)||0,i.now=i.start}this._step(e.id)},_step:function(t){var e,n,i=this.elements[t],o=(new Date).getTime();if(o>=i.startTime+i.options.duration){for(i.relPos=i.relTime=1,n=0;n<i.props.length;n++)(e=i.props[n]).now=e.targetVal,this._update(i.domElement,e.name,e.now);this._complete(i)}else{o=o-i.startTime;for(i.relTime=o/i.options.duration,i.relPos=this._easing[i.options.easing](i.relTime,o,0,1,i.options.duration),n=0;n<i.props.length;n++)(e=i.props[n]).now=e.start+(e.targetVal-e.start)*i.relPos,this._update(i.domElement,e.name,e.now);var a=this;i.timeout=setTimeout(function(){a._step(t)},a.conf.interval)}},_update:function(t,e,n){void 0!==this._cssPropHooks[e]?this._cssPropHooks[e].set.call(this,t,n):t.style&&null!=t.style[e]&&(this.isNumeric(n)&&!this._cssNumber[e]&&(n+="px"),t.style[e]=n)},_getCurrentVal:function(t,e){return void 0!==this._cssPropHooks[e]?this._cssPropHooks[e].get.call(this,t):t.style&&null!=t.style[e]?parseFloat(t.style[e]):void 0},_complete:function(t){var e=t.id,n=null;if(null!=t.options.callback&&"function"==typeof t.options.callback&&(n=t.options.callback),null!=t.timeout&&clearTimeout(t.timeout),t.timeout=null,delete this.elements[e],null!=n)try{n.call(t.options.context,e)}catch(t){}void 0!==this.queue[e]&&null!=this.queue[e]&&(0<this.queue[e].length?(n=this.queue[e].splice(0,1),this.animate(n[0].domElement,n[0].props,n[0].options)):this._removeFromQueue(e))},_addToQueue:function(t,e){void 0===this.queue[t]&&(this.queue[t]=[]),this.queue[t].push(e)},_removeFromQueue:function(t){void 0!==this.queue[t]&&null!=this.queue[t]&&delete this.queue[t]}},window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag.taglets.lpJsonToDom=(()=>{var m,d={base:{margin:0,padding:0,borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0,fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",listStylePosition:"outside",listStyleImage:"none",listStyleType:"none",letterSpacing:"normal",lineHeight:"normal",textDecoration:"none",verticalAlign:"baseline",whiteSpace:"normal",wordSpacing:"normal"},container:{backgroundRepeat:"repeat-x",backgroundPosition:"bottom left",borderStyle:"solid"},label:{position:"absolute"},heading:{position:"absolute"},image:{position:"absolute",maxWidth:"none",maxHeight:"none"},button:{position:"absolute",backgroundRepeat:"repeat-x",backgroundPosition:"bottom left",borderStyle:"solid",paddingTop:5,paddingBottom:5,paddingLeft:10,paddingRight:10,cursor:"pointer"},closeButton:{position:"absolute",cursor:"pointer"},peel:{},iframe:{},slideOutPin:{position:"absolute",cursor:"pointer"}},r=["LPMacro","searchkeywords","country","state","city"],s={zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0,color:!0},v={ORDER:"lpOrder"},b=1e4,e=0;function n(t,e,n,i,o){var a,r=document.createElement(t),l=(i.isSubContainer=void 0!==i.isSubContainer&&i.isSubContainer,o=o||p(e),r),s=i,c=n,n=o,o=t;if((c=c||{}).id=n,"img"===o&&(s.alt?c.alt=s.alt:c.alt=""),s.attrs)for(var u in s.attrs)s.attrs.hasOwnProperty(u)&&(l.setAttribute(u,s.attrs[u]),"data-lp-channel"===u)&&(s.css=s.css||{},s.css.cursor="pointer");for(a in c)c.hasOwnProperty(a)&&l.setAttribute(a,c[a]);var t=((t,e)=>{var n=void 0!==e.isSubContainer&&e.isSubContainer,e=void 0===e.engagementType?"":e.engagementType,i="";return n||(i="LPM"+t,""!==e&&(i=i+" "+e)),i})(e,i);return""!==t&&(r.className=t),n=i.css,o=e,g(t=r,d.base),g(t,d[o]),g(t,n),r}var T={text:function(t,e){e=n("div",e,null,t,null);return e.innerHTML=i(t.text),e},heading:function(t){var e=n("h"+t.heading,"heading",null,t,null);return e.innerHTML=i(t.text),e},containers:function(t){return n("div","container",null,t,null)},labels:function(t){return"number"==typeof t.heading&&1<=t.heading&&t.heading<=6?T.heading(t):T.text(t,"label")},images:function(t,e){if(null==t.imageUrl||""===t.imageUrl)throw lpTag.log("lpJsonToDom, bad imageUrl :"+t.imageUrl,"ERROR","JSON2DOM"),new Error("invalid data exception");return n("img",e="peel"!==e&&"closeButton"!==e&&"slideOutPin"!==e?"image":e,{src:u(t.imageUrl)},t,null)},buttons:function(t){return t.isClickable=!0,T.text(t,"button")},closeButtons:function(t,e){t.isClickable=!0;t=T.images(t,"closeButton");return t.setAttribute("data-LP-event","close"),t},peels:function(t){var e=T.containers(t),t=T.images(t,"peel");return e.appendChild(t),e},iframes:function(t){var e=p();return n("iframe","iframe",{name:e,frameBorder:0,height:t.css.height,width:t.css.width,scrolling:"no",marginheight:0,marginwidth:0,allowTransparency:!0},t,e)},slideOutPins:function(t){return delete t.alt,T.images(t,"slideOutPin")}};function i(t){return(t=>{var e,n="";if(void 0!==t&&null!=t)for(var i=0;i<t.length;i++)e=t.charCodeAt(i),n+=e<256?"&#x"+e.toString(16)+";":t[i];return n})(t=(t=(t=>{var e,n=[];if(void 0!==m&&void 0!==m.length){for(var i=0;i<r.length;i++)e=new RegExp("{{"+r[i]+"\\-\\d+}}","g"),null!==(e=t.match(e))&&(n=n.concat(e));if(null!==n)for(var o=0;o<n.length;o++)for(var a=0;a<m.length;a++)n[o].replace("{{","").replace("}}","")===m[a].id&&(t=t.replace(n[o],m[a].value))}return t})(t)).replace(/\r\n|\r|\n/g,"<br \n/>")).replace(/&#x3c;&#x62;&#x72;&#x20;&#xa;&#x2f;&#x3e;/g,"<br/>")}function y(t,e){t=t[v.ORDER],e=e[v.ORDER];return e<t?1:t<e?-1:0}function g(t,e){if(void 0!==t&&null!=t&&"object"==typeof e)for(var n in e)try{var i=e[n];if(void 0!==i&&(c(l=i)||"string"==typeof l&&-1===l.toLowerCase().indexOf("javascript")&&-1===l.toLowerCase().indexOf("expression"))){c(i)&&!s[n]&&(i+="px"),"backgroundImage"==n&&null!==i&&""!==i&&(i='url("'+u((t=>void 0!==lpTag.taglets.utils?lpTag.taglets.utils.extractBgImgUrl(t):t)(i))+'")'),r=a=o=void 0;var o=t,a=n,r=i;switch(a){case"borderRadius":o.style.borderRadius=r,o.style.MozBorderRadius=r,o.style.WebkitBorderRadius=r;break;case"borderTopLeftRadius":o.style.MozBorderRadiusTopleft=r,o.style.WebkitBorderTopLeftRadius=r;break;case"borderTopRightRadius":o.style.MozBorderRadiusTopright=r,o.style.WebkitBorderTopRightRadius=r;break;case"borderBottomLeftRadius":o.style.MozBorderRadiusBottomleft=r,o.style.WebkitBorderBottomLeftRadius=r;break;case"borderBottomRightRadius":o.style.MozBorderRadiusBottomright=r,o.style.WebkitBorderBottomRightRadius=r;break;case"transform":o.style.MozTransform=r,o.style.WebkitTransform=r,o.style.msTransform=r;break;default:o.style[a]=r}t.style[n]=i}}catch(t){lpTag.log("lpJsonToDom, invalid css ["+n+"; e:"+t+"]","ERROR","JSON2DOM")}var l}function c(t){return void 0!==lpTag.taglets.utils&&lpTag.taglets.utils.isNumeric(t)}function p(t){t="LPM"+t+"-"+(new Date).getTime()+"-"+e;return e++,t}function u(t){if(void 0!==lpTag.taglets.utils)return lpTag.taglets.utils.checkHttps(t)}return{version:"1.4",name:"lpJsonToDom",init:function(){},convert:function(t,e,n,i){m=n;var o,a=[];if(void 0===t||null==t)throw lpTag.log("lpJsonToDom, invalid jsons","ERROR","JSON2DOM"),new Error("invalid data exception");for(o in t){var r=t[o];if(void 0===r||null==r)throw lpTag.log("lpJsonToDom, bad value","ERROR","JSON2DOM"),new Error("invalid data exception");void 0===r.length&&(r=[r]);for(var l=0;l<r.length;l++){var s=T[o];if("function"!=typeof s)throw lpTag.log("lpJsonToDom, no converter for type "+o,"ERROR","JSON2DOM"),new Error("invalid data exception");var c=r[l],s=s(c,e),u=(s[v.ORDER]=(d=r[l],"closeButtons"===o?b+2:void 0===d.order?b+1:d.order),f=h=p=g=d=u=void 0,s),d=c,g=i;if(g){var p,h=d.events;if(void 0!==h&&null!=h&&"object"==typeof h&&lpTag.taglets.utils)for(var f in h)(p=g[h[f]])&&lpTag.taglets.utils.attachEvent(u,f,p.callback,p.context)}a.push(s)}}return a=a.sort(y)},purge:function t(e){var n,i,o=e.attributes;if(o)for(n=o.length-1;0<=n;--n)"function"==typeof e[i=o[n].name]&&(e[i]=null);var a=e.childNodes;if(a)for(n=0;n<a.length;n+=1)t(e.childNodes[n])}}})(),(o=>{o.lpTag=o.lpTag||{},lpTag.taglets=lpTag.taglets||{};var e=32,n=13;lpTag.taglets.utils={_V:"1.3",name:"utils",init:function(){},checkHttps:function(t){return t="https"==lpTag.protocol&&0!==t.indexOf("https")?"https"+t.substr(4):t},makeScriptCall:function(t,e){t=this.checkHttps(t);var n=document.createElement("script"),e=(n.setAttribute("type","text/javascript"),n.setAttribute("charset",e||"UTF-8"),n.setAttribute("src",t),document.getElementsByTagName("head"));e&&e.item(0).appendChild(n)},makeImgCall:function(t){t=this.checkHttps(t);var e=new Image;return e.src=t,e},decodeUri:function(e){try{return decodeURIComponent(e)}catch(t){return lpTag.log("err decoding string: "+e+"["+t+"]","ERROR","utils"),e}},isEmptyObj:function(t){for(var e in t)return!1;return!0},arrToObject:function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=t[n];return e},preloadImages:function(t,e){var n,i,o=this.arrToObject(t),a=[],r={},l=!1,s=this;if(lpTag.log("preloading "+t.length+" images","INFO","utils"),this.isEmptyObj(o)){lpTag.log("no images to load. calling callback","INFO","utils");try{e(!0,r)}catch(t){lpTag.log("error in preload callback ["+t+"]","ERROR","utils")}}else for(n in o)-1!==n.toLowerCase().indexOf("javascript")||-1!==n.toLowerCase().indexOf("expression")?e(!1):(a.push(new Image),a[i=a.length-1].onload=(t=>function(){if(delete o[t],this.onload=null,r[t]={width:this.width,height:this.height},s.isEmptyObj(o)&&!l){l=!0,lpTag.log("preloading images complete","INFO","utils");try{e(!0,r)}catch(t){lpTag.log("error in preload callback ["+t+"]","ERROR","utils")}}})(n),a[i].onerror=(t=>function(){if(lpTag.log("error preloading image: "+t,"ERROR","utils"),!l){l=!0;try{e(!1)}catch(t){lpTag.log("error in preload callback ["+t+"]","ERROR","utils")}}})(n),a[i].src=this.checkHttps(n))},stopEventBubble:function(t){t=t||o.event;t&&(t.cancelBubble=!0,t.stopPropagation)&&t.stopPropagation()},geObjById:function(t){return document.getElementById?document.getElementById(t):!!document.all&&document.all(t)},isIE:function(){var t=(t=navigator.userAgent).toLowerCase();return null!=/(msie) ([\w.]+)/.exec(t)},isIE6:function(){var t=(t=navigator.userAgent).toLowerCase(),t=/(msie) ([\w.]+)/.exec(t);if(null!=t&&6==parseInt(t[2],10))return!0;return!1},waitForDocumentBody:function(t,e,n){var i;n=n||0,lpTag.log("in waitForDocumentBody......","INFO",this.name),document.body?t.call(e||o):(i=this,n<400?setTimeout(function(){n++,lpTag.log("Waiting for document.body. try: ("+n+"), time: ("+(new Date).getTime()+")","DEBUG",this.name),i.waitForDocumentBody(t,e,n)},50):lpTag.log("call callback on waitForDocumentBody failed. document.body not exist ","ERROR",this.name))},isQuirksMode:function(){return document.documentMode&&5==document.documentMode||"BackCompat"==document.compatMode?(lpTag.log("Quirks Mode == true","DEBUG","utils"),!0):(lpTag.log("Quirks Mode == false","DEBUG","utils"),!1)},getPageDimensions:function(){for(var t={totalHeight:null,totalWidth:null,windowHeight:null,windowWidth:null,verticalScroll:null,horizontalScroll:null},e=["Height","Width"],n=0;n<e.length;n++){var i=e[n];t["total"+i]=Math.max(document.documentElement["client"+i],document.body["scroll"+i],document.documentElement["scroll"+i],document.body["offset"+i],document.documentElement["offset"+i]),t["window"+i]="CSS1Compat"===o.document.compatMode&&o.document.documentElement["client"+i]||o.document.body["client"+i]||o.document.documentElement["client"+i]}return t.verticalScroll=document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop,t.horizontalScroll=document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft,t},appendToPage:function(t,e){return e=e||{},lpTag.log("in appendToPage......","DEBUG","utils"),"object"!=typeof t||void 0===t.id?(lpTag.log("appendToPage:element not exist","ERROR","utils"),!1):null==this.geObjById(t.id)&&(e.offerParent=e.offerParent||document.body,e.offerParent?(e.offerParent.appendChild(t),void(e.callback&&e.callback.call(e.context||o,t.id))):(lpTag.log("no parent exists - parent = "+e.offerParent,"DEBUG","utils"),!1))},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},replaceAll:function(t,e,n){return t.replace(new RegExp(e,"g"),n)},extractBgImgUrl:function(t){return/^url\(['"]?([^'"]*)['"]?\)$/i.test(t)?RegExp.$1:t},is_array:function(t){return t&&"object"==typeof t&&t.constructor===Array},cloneObject:function(t){var e={};if(t.constructor===Object)for(var n in t)t.hasOwnProperty(n)&&null!=t[n]&&("object"==typeof t[n]&&t[n].constructor!==Array?e[n]=lpTag.taglets.utils.cloneObject(t[n]):t[n].constructor===Array?e[n]=t[n].slice(0)||[]:"function"!=typeof t[n]&&(e[n]=null!=t[n]?t[n]:""));else t.constructor===Array?e=t.slice(0)||[]:"function"!=typeof t&&(e=t);return e},extendObj:function(t,e){for(var n in t=t||{},e)t[n]=e[n];return t},setTimeout:function(t,e,n){var i;return i=0<n&&"function"==typeof t?setTimeout(function(){t.call(e)},1e3*n):i},clearTimeout:function(t){t&&clearTimeout(t)},getCdnGallery:function(t){return t=t.replace(/\{galleryBasePath\}/g,lpTag.protocol+"//"+lpTag.csds.getDomain("leCdnDomain")+"/gallery")},createDom:function(t,e){if(e&&"string"==typeof t){for(var n in e)t=t.replace("{{"+n+"}}",e[n]);var i=document.createElement("div");return i.innerHTML=t,i.firstChild}},isActivationKeyCode:function(t){return t===n||t===e},attachEvent:function(t,e,n,i){var o=i;function a(t){try{n.call(o,t)}catch(t){lpTag.log("Error occur on attachEvent run callback","ERROR","utils")}}t&&e&&"function"==typeof n&&(t.addEventListener?t.addEventListener(e,a,!1):t.attachEvent("on"+e,a))}}})(window),window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag.taglets.baseOffer=function(){},(t=>{var e="prototype",n="baseOffer",i={IMPRESSION:"impDisplay",EXPANDED:"impExpanded",CLOSED:"impClose",TIMEOUT:"impTimeout",CLICK:"impAccept"},o="LP_OFFERS",a="OFFER_IMPRESSION",r="OFFER_EXPANDED",l="OFFER_CLOSED",s="OFFER_TIMEOUT",c="OFFER_CLICK",u="OFFER_ERROR",d="adminArea",g=lpTag.taglets.lpUnifiedWindow,p=lpTag.taglets.rendererStub,h={UNIFIED_WINDOW:0,CUSTOM:1,LEGACY:2},f={LINK:1,BUTTON:2,SEARCH_KEYWORD:3};function m(){return this.conf.channel===this.CHANNELS.CHAT}function v(t,e){t=((t,e,n)=>(t=I(t,e),n&&(t.actionableItem={id:n.id||"",itemType:f[n.type]?n.type:"",name:n.description||"",searchWord:n.searchKeywords||""}),e.multiChannelEngagementSelection&&(t.channel=e.multiChannelEngagementSelection),t))(i.CLICK,t,e);C.call(this,t)}function b(){var t={};return m.call(this)?(t.env="",t.domain=lpTag.csds.getDomain(d),t.params="height=650,width=330,menubar=no,resizable=no",t.target=("LiveEngageChat_"+lpTag.site).replace(/[^a-z0-9]/gi,"_"),"hc1"!==t.domain&&"hc1.dev.lprnd.net"!==t.domain||(t.domain="hc1.dev.lprnd.net",t.env="qa")):(t.params="menubar=yes,location=yes,resizable=yes,scrollbars=yes,status=yes",t.target=E.call(this).target),t}function T(t,e,n,i,o){var a=function(){var t=h.LEGACY;return m.call(this)&&(this.conf.windowConf=this.conf.windowConf||{},this.conf.windowConf.json=this.conf.windowConf.json||{},"external app"===this.conf.windowConf.type&&this.conf.windowConf.json.externalConfiguration?t=h.CUSTOM:g&&"function"==typeof g.clicked&&(t=h.UNIFIED_WINDOW)),t}.call(this,e);h.CUSTOM===a?function(t,e,n,i){var o=this,e={configuration:this.conf.windowConf.json.externalConfiguration,args:p.getClickObject(t,e,n),errorCallback:function(){o.errorLog("Error while opening an external channel")}};try{lpTag.taglets.lpUtil.runCallbackByObject(e.configuration,e.args,e.errorCallback),v.call(this,t,i)}catch(t){this.errorLog("Exception while opening an external channel: "+t.message)}}.call(this,t,e,n,i):h.UNIFIED_WINDOW===a?function(t,e,n,i,o){o?g.startFlow(p.getClickObject(t,e,n)):(g.clicked(p.getClickObject(t,e,n)),v.call(this,t,i))}.call(this,t,e,n,i,o):function(t,e,n,i){var o=m.call(this)?function(t,e,n){var i="https://"+n.domain+"/hcp/lewindow/index.html?lpNumber="+lpTag.site+"&site="+lpTag.site+"&domain="+n.domain;n.env&&(i+="&env="+n.env);i=lpTag.taglets.lp_monitoringSDK.appendCtx(i),i=(i=(i+="&scid="+encodeURIComponent(t.contextId))+"&cid="+encodeURIComponent(t.campaignId))+"&eid="+encodeURIComponent(t.engagementId),e.skillName&&(i+="&skill="+encodeURIComponent(e.skillName));e.windowId&&(i+="&lewid="+encodeURIComponent(e.windowId));e.language&&(i+="&lang="+encodeURIComponent(e.language));return i}.call(this,t,e,n):E.call(this).url;switch(n.target){case"_self":v.call(this,t,i),o&&setTimeout(function(){window.location.href=o},50);break;case"_parent":case"_top":v.call(this,t,i),o&&window.open(o,n.target,n.params);break;default:o&&window.open(o,n.target||"_blank",n.params),v.call(this,this.engData,i)}}.call(this,t,e,n,i)}function y(t,e){lpTag.log(t+". offer: "+this.engData.tglName+". offerId="+this.offerId,e,n)}function E(){var t={target:"",url:""},e=function(t){return(this.conf.displayInstances||[])[t]||{_isInvalid:!0}}.call(this,this.engData.state);return e._isInvalid||e.events&&e.events.click&&e.events.click.enabled&&(t.target=e.events.click.target,t.url=e.events.click.url),t}function C(t,e){lpTag.sdes&&"function"==typeof lpTag.sdes.send&&t&&(e?lpTag.sdes.push(t):lpTag.sdes.send(t),this.infoLog("Sent SMT event: "+t.type+", campaignID: "+t.campaign+", engagementId: "+t.engId))}function I(t,e){return e&&t?{type:t,campaign:e.campaignId,engId:e.engagementId,revision:e.engagementRevision,eContext:[{type:"engagementContext",id:e.contextId}]}:null}t[e].CHANNELS={CHAT:1,CONTENT:100},t[e].init=function(t,e){this.offerId=t&&t.engagementId,this.engData=t,this.conf=e},t[e].onImpression=function(){C.call(this,I(i.IMPRESSION,this.engData)),this.trigger(a)},t[e].onTimeout=function(){C.call(this,I(i.TIMEOUT,this.engData)),this.trigger(s)},t[e].onClose=function(){C.call(this,I(i.CLOSED,this.engData)),this.trigger(l)},t[e].onError=function(){this.trigger(u)},t[e].onClick=function(t){v.call(this,this.engData,t),this.trigger(c,!0)},t[e].click=function(t){this.trigger(c,!0),T.call(this,this.engData,this.conf,b.call(this),t)},t[e].startChat=function(){T.call(this,this.engData,this.conf,b.call(this),null,!0)},t[e].onExpanded=function(t){C.call(this,((t,e,n)=>{var i,o=[],t=I(t,e);if(n){if(t.expanded=n.expanded,t.userInit=!1!==n.userInit,Array.isArray(n.actionableItems))for(var a=0;a<n.actionableItems.length;a++)((i=n.actionableItems[a]).id||i.type||i.description)&&o.push({id:i.id||"",itemType:f[i.type]?i.type:"",name:i.description});t.actionableItems=o}return t})(i.EXPANDED,this.engData,t)),this.trigger(r)},t[e].trigger=function(t,e){lpTag.events.trigger({appName:o,eventName:t,data:this.engData,aSync:e||!1}),this.infoLog("Trigger event: app="+o+", name="+n)},t[e].bind=function(t,e){return lpTag.events.bind({appName:o,eventName:t,func:e,context:this})},t[e].infoLog=function(t){y.call(this,t,"INFO")},t[e].errorLog=function(t){y.call(this,t,"ERROR")},t[e].debugLog=function(t){y.call(this,t,"DEBUG")}})(lpTag.taglets.baseOffer),window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},(()=>{function g(t,e){t&&e&&this.init(t,e)}function n(){var e=g,t="prototype",n={0:"peeling",1:"overlay",2:"toaster",3:"slider",5:"overlay",6:"overlay"},i={0:!0,1:!0,2:!0,3:!1,5:!1,6:!1},o={HIDE:"HIDE",START:"START",ON_HIDE:"OFFER_HIDE",ON_DISPLAY:"OFFER_DISPLAY",ON_CLOSE:"OFFER_CLOSED",ON_REMOVE:"OFFER_REMOVE",DECLINED:"OFFER_DECLINED",MULTI_CHANNEL_SELECTION:"ENG_MULTI_CHANNEL_SELECTION"},l=lpTag.taglets.utils,a={0:{horizontal:"custom",vertical:"custom"},1:{horizontal:"left",vertical:"top"},2:{horizontal:"center",vertical:"top"},3:{horizontal:"right",vertical:"top"},4:{horizontal:"left",vertical:"middle"},5:{horizontal:"center",vertical:"middle"},6:{horizontal:"right",vertical:"middle"},7:{horizontal:"left",vertical:"bottom"},8:{horizontal:"center",vertical:"bottom"},9:{horizontal:"right",vertical:"bottom"},10:{horizontal:"left",vertical:"top"},11:{horizontal:"left",vertical:"bottom"}};function r(t){return t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t}function s(t){if(t)for(var e=0;e<t.length;e++)null!=t[e]&&lpTag.events.unbind(t[e])}function c(t,e){if(t)return t=l.getCdnGallery(t),e?l.extractBgImgUrl(t):t}function u(t,e,n){n.errorLog("Invalid data ["+t+"] for state  ["+e.type+"]"),e._isInvalid=!0}function d(t){if(t&&0<t.length)for(var e=0;e<t.length;e++)if(t[e].events&&t[e].events.click===o.MULTI_CHANNEL_SELECTION)return!0;return!1}"function"==typeof lpTag.taglets.baseOffer&&!0!==e[t].extended&&(e[t]=new lpTag.taglets.baseOffer,e[t].extended=!0,(e[t].constructor=e)[t].init=function(t,e){this.eventIds=[],this.engData=t,this.engData.engagementName=e.name,this.conf=e,this.states=this.getStates(e.displayInstances),this.activeState=this.getState(this.engData.state,this.states)},e[t].run=function(){this.debugLog("in run......"),this._isInvalid||this.activeState._isInvalid?this.errorLog("Invalid data, exiting _startRunning"):(this.trigger(o.START),l.waitForDocumentBody(this.onBodyLoad,this))},e[t].onBodyLoad=function(){var t;e=e||window,1!==this.conf.renderingType?(t=(t=>{var e,n=[],i=t,o=n;for(e in i.background&&i.background.image&&(i.background.image=c(i.background.image,!0),o.push(i.background.image)),t.elements)for(var a=t.elements[e]||[],r=0;r<a.length;r++){l=void 0;s=void 0;var l=a[r];var s=n;l.css&&l.css.backgroundImage&&(l.css.backgroundImage=c(l.css.backgroundImage,!0),s.push(l.css.backgroundImage)),l.imageUrl&&(l.imageUrl=c(l.imageUrl),s.push(l.imageUrl))}return n})(this.activeState),this.preloadImages(t,this.startRendering,this.onError)):this.startRendering()},e[t].preloadImages=function(t,e,n){var i,o,a,r;l.preloadImages(t,(i=this.activeState,o=e,a=n,r=this,function(t,e){try{t?(i.imgData=e,o.call(r)):(a.call(r),r.errorLog("failed loading images for offer"))}catch(t){r.errorLog("Failed to run callbacks on images load")}}))},e[t].startRendering=function(){this.bindCommonEvents(),this.createOffer()},e[t].createOffer=function(){},e[t].getEngagementTypeName=function(t){return n[t]||""},e[t].convertJsonToDom=function(t,e){return lpTag.taglets.lpJsonToDom.convert(t,this.offerId,this.engData.macros,e)},e[t].appendToPage=function(t,e,n){return this.conf&&!this.conf.accessible&&r(e),l.appendToPage(e,{callback:t,context:this,offerParent:n||document.body})},e[t].show=function(){var t=this.getObj(this.containerId);t&&t.style&&(t.style.display="block",this.trigger(o.ON_DISPLAY),this.infoLog("Offer displayed"))},e[t].hide=function(){var t=this.getObj(this.containerId);t&&t.style&&(t.style.display="none",this.trigger(o.ON_HIDE),this.infoLog("Offer hidden"))},e[t].remove=function(t){var e=this.getObj(this.containerId);if(e){try{lpTag.taglets.lpJsonToDom.purge(e),e.parentNode.removeChild(e)}catch(t){this.hide()}(t=t||{}).silent||this.trigger(o.ON_REMOVE)}s(this.activeState.events),s(this.eventIds)},e[t].getObj=function(t){return document.getElementById(t)},e[t].setEngagementConf=function(t){this.debugLog("in setEngagementConf.."),this.conf.zIndex=107158,this.offerId=t.id,this.location={},t.position&&(this.location=a[t.position.type]||{}),t.effects&&(this.conf.secondsToCollapseAfter=t.effects.secondsToCollapseAfter)},e[t].getState=function(t,e){for(var n=0;n<e.length;n++)if(e[n].type===t)return e[n];return{_isInvalid:!0}},e[t].getStates=function(t){t=t||[];for(var e=[],n=0;n<t.length;n++)e.push(this.getStateObj(t[n]));return e},e[t].getStateObj=function(t){var e,n={type:t.displayInstanceType},i=[{name:"background",required:!0},{name:"size",required:!0},{name:"border",required:!0},{name:"elements",required:!0},{name:"alt",required:!1},{name:"margin",required:!1}];if(t.presentation)if(1===this.conf.renderingType)t.presentation.html?n.html=t.presentation.html:u("html",n,this);else{for(var o=0;o<i.length;o++)t.presentation[i[o].name]?n[i[o].name]=t.presentation[i[o].name]:i[o].required&&u([i[o]],n,this);n.elements=((e=(e=n.elements)||{}).images=e.images||[],e.labels=e.labels||[],e.buttons=e.buttons||[],e.closeButtons=e.closeButtons||[],e)}else u("presentation",n,this);return n.click=t.events&&t.events.click||{enabled:!1},n},e[t].validateConf=function(t,e){for(var n=0;n<e.length;n++)t[e[n]]||this.setInvalid(t[e])},e[t].extractCssProps=function(t,e,n){var i;n=n||{};for(var o,a=0;a<e.length;a++)for(var r in i=t[e[a]]||{})i[r]&&(n[e[a]+((o=r).charAt(0).toUpperCase()+o.slice(1))]=i[r]);return t.size&&(n.width=t.size.width,n.height=t.size.height),n.cursor=t.click&&(1===this.conf.renderingType||(t=>{if(t&&t.activeState&&t.activeState.elements)return d((t=t.activeState.elements).buttons)||d(t.images)})(this)?"auto":"pointer"),n},e[t].setInvalid=function(t){this.errorLog("Invalid data ["+t+"]"),this._isInvalid=!0},e[t].bindCommonEvents=function(){var t;"function"!=typeof this.cleanupOffer||this.conf.channel!==this.CHANNELS.CHAT||this.parentContainer||(t=this.bind(o.HIDE,this.cleanupOffer),this.eventIds.push(t))},e[t].cleanupOffer=function(){this.errorLog("cleanupOffer must be implemented")},e[t].extendObj=l.extendObj,e[t].addElements=function(t,e,n){this.appendJson(t,e,this.createEventCallbacks(n));e=t.querySelector('[data-LP-event="close"]');return e&&this.setCloseEvents(e),t},e[t].appendJson=function(t,e,n){if(t&&t.appendChild)for(var i=this.convertJsonToDom(e,n)||[],o=0;o<i.length;o++)t.appendChild(i[o]);return t},e[t].setEngagementClickEvent=function(t,e,n){var i=!(!this.engData||this.channel===this.CHANNELS.CHAT&&!this.engData.contextId);if(t&&i){var o=t.querySelectorAll("[data-lp-channel]");if(o&&0<o.length)for(var a=0;a<o.length;a++)this.setClickEvent(o[a],e,n);else this.setClickEvent(t,e,n)}},e[t].setClickEvent=function(t,e,n){l.attachEvent(t,"click",e,n),l.attachEvent(t,"keyup",function(t){void 0!==t&&t.stopPropagation(),l.isActivationKeyCode(t.keyCode)&&e.call(n,t)},n)},e[t].setCloseEvents=function(t){t&&(l.attachEvent(t,"click",this.onOfferClosed,this),l.attachEvent(t,"keyup",function(t){l.isActivationKeyCode(t.keyCode)&&this.onOfferClosed(t)},this))},e[t].onOfferClosed=function(t){this.closeOffer(t),this.trigger(o.DECLINED,!0),l.stopEventBubble(t)},e[t].closeOffer=function(t){},e[t].setTimeout=function(t){void 0!==this.conf.type&&i[this.conf.type]&&(this.offerTimeoutId=l.setTimeout(t,this,this.conf.secondsToCollapseAfter))},e[t].setContextId=function(t){void 0!==t&&(this.engData.contextId=t)},e[t].extended=!0,e[t].createAccessibleContainer=function(t){var e=lpTag.taglets.lpJsonToDom.convert({containers:[{css:{},isClickable:!0,isSubContainer:!0}]});l.is_array(e)&&0<e.length&&((e=e[0]).style.width="100%",e.style.height="100%",e=r(e),t.appendChild(e))},e[t].repositionCloseBtn=function(t){var e=t.firstChild.getElementsByClassName("LPMcloseButton")[0];e&&(e=r(e),t.appendChild(t.firstChild.removeChild(e)))},e[t].createEventCallbacks=function(t){var e=this,t=t||{};return t[o.MULTI_CHANNEL_SELECTION]=t[o.MULTI_CHANNEL_SELECTION]||{callback:function(t){e.engData&&(t.target||t.srcElement)&&(t=t.target||t.srcElement).dataset&&(e.engData.multiChannelEngagementSelection=t.dataset.lpChannel)}},t})}lpTag.taglets.baseUIOffer={v:"0.1",name:"baseUIOffer",init:function(){},createInstance:function(t,e){return n(),new g(t,e)}}})();